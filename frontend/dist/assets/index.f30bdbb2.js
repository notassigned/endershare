(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerpolicy&&(c.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?c.credentials="include":s.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(s){if(s.ep)return;s.ep=!0;const c=t(s);fetch(s.href,c)}})();function $(){}function Ct(l){return l()}function We(){return Object.create(null)}function se(l){l.forEach(Ct)}function Mt(l){return typeof l=="function"}function de(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let Oe;function Ee(l,e){return Oe||(Oe=document.createElement("a")),Oe.href=e,l===Oe.href}function It(l){return Object.keys(l).length===0}function Nt(l,...e){if(l==null)return $;const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function re(l,e,t){l.$$.on_destroy.push(Nt(e,t))}function o(l,e){l.appendChild(e)}function S(l,e,t){l.insertBefore(e,t||null)}function E(l){l.parentNode&&l.parentNode.removeChild(l)}function De(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function a(l){return document.createElement(l)}function O(l){return document.createTextNode(l)}function m(){return O(" ")}function Re(){return O("")}function j(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function pe(l){return function(e){return e.stopPropagation(),l.call(this,e)}}function r(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function Ft(l){return Array.from(l.childNodes)}function z(l,e){e=""+e,l.data!==e&&(l.data=e)}function ke(l,e){l.value=e==null?"":e}function ae(l,e,t){l.classList[t?"add":"remove"](e)}let Se;function Me(l){Se=l}function Et(){if(!Se)throw new Error("Function called outside component initialization");return Se}function je(l){Et().$$.on_mount.push(l)}function Te(l){Et().$$.on_destroy.push(l)}function Be(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const be=[],Ze=[];let ge=[];const Ke=[],Pt=Promise.resolve();let Le=!1;function Rt(){Le||(Le=!0,Pt.then(St))}function Ue(l){ge.push(l)}const Ge=new Set;let Ae=0;function St(){if(Ae!==0)return;const l=Se;do{try{for(;Ae<be.length;){const e=be[Ae];Ae++,Me(e),Tt(e.$$)}}catch(e){throw be.length=0,Ae=0,e}for(Me(null),be.length=0,Ae=0;Ze.length;)Ze.pop()();for(let e=0;e<ge.length;e+=1){const t=ge[e];Ge.has(t)||(Ge.add(t),t())}ge.length=0}while(be.length);for(;Ke.length;)Ke.pop()();Le=!1,Ge.clear(),Me(l)}function Tt(l){if(l.fragment!==null){l.update(),se(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(Ue)}}function Gt(l){const e=[],t=[];ge.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),ge=e}const Ne=new Set;let ue;function Ve(){ue={r:0,c:[],p:ue}}function ze(){ue.r||se(ue.c),ue=ue.p}function ie(l,e){l&&l.i&&(Ne.delete(l),l.i(e))}function ce(l,e,t,n){if(l&&l.o){if(Ne.has(l))return;Ne.add(l),ue.c.push(()=>{Ne.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function we(l){l&&l.c()}function _e(l,e,t,n){const{fragment:s,after_update:c}=l.$$;s&&s.m(e,t),n||Ue(()=>{const i=l.$$.on_mount.map(Ct).filter(Mt);l.$$.on_destroy?l.$$.on_destroy.push(...i):se(i),l.$$.on_mount=[]}),c.forEach(Ue)}function me(l,e){const t=l.$$;t.fragment!==null&&(Gt(t.after_update),se(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Lt(l,e){l.$$.dirty[0]===-1&&(be.push(l),Rt(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function ye(l,e,t,n,s,c,i,u=[-1]){const f=Se;Me(l);const d=l.$$={fragment:null,ctx:[],props:c,update:$,not_equal:s,bound:We(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:We(),dirty:u,skip_bound:!1,root:e.target||f.$$.root};i&&i(d.root);let p=!1;if(d.ctx=t?t(l,e.props||{},(_,h,...b)=>{const k=b.length?b[0]:h;return d.ctx&&s(d.ctx[_],d.ctx[_]=k)&&(!d.skip_bound&&d.bound[_]&&d.bound[_](k),p&&Lt(l,_)),h}):[],d.update(),p=!0,se(d.before_update),d.fragment=n?n(d.ctx):!1,e.target){if(e.hydrate){const _=Ft(e.target);d.fragment&&d.fragment.l(_),_.forEach(E)}else d.fragment&&d.fragment.c();e.intro&&ie(l.$$.fragment),_e(l,e.target,e.anchor,e.customElement),St()}Me(f)}class Ce{$destroy(){me(this,1),this.$destroy=$}$on(e,t){if(!Mt(t))return $;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!It(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Ut(l){return window.go.main.App.AddFile(l)}function Vt(l){return window.go.main.App.BindPeerWithPhrase(l)}function zt(){return window.go.main.App.CancelBinding()}function Jt(l,e){return window.go.main.App.CreateFolder(l,e)}function Qt(){return window.go.main.App.CreateNewVault()}function Yt(l,e){return window.go.main.App.DeleteFile(l,e)}function Wt(l){return window.go.main.App.DeleteFolder(l)}function Zt(l,e){return window.go.main.App.ExportFile(l,e)}function Kt(){return window.go.main.App.GetAppState()}function Xt(l){return window.go.main.App.GetFolderPath(l)}function qt(){return window.go.main.App.GetNodeID()}function Bt(){return window.go.main.App.GetPeers()}function Ht(){return window.go.main.App.GetStorageStats()}function $t(){return window.go.main.App.GetSyncPhrase()}function Dt(){return window.go.main.App.IsMaster()}function xt(l){return window.go.main.App.ListFolder(l)}function el(l){return window.go.main.App.RemovePeer(l)}function tl(){return window.go.main.App.StartReplicaBinding()}function ll(l){return window.go.main.App.UnlockWithMnemonic(l)}const he=[];function ve(l,e=$){let t;const n=new Set;function s(u){if(de(l,u)&&(l=u,t)){const f=!he.length;for(const d of n)d[1](),he.push(d,l);if(f){for(let d=0;d<he.length;d+=2)he[d][0](he[d+1]);he.length=0}}}function c(u){s(u(l))}function i(u,f=$){const d=[u,f];return n.add(d),n.size===1&&(t=e(s)||$),u(l),()=>{n.delete(d),n.size===0&&t&&(t(),t=null)}}return{set:s,update:c,subscribe:i}}const fe=ve("fresh"),Ie=ve(0),Je=ve(!1),H=ve(!1),te=ve(""),Qe=ve(""),Fe=ve(!1);function Xe(l){let e,t;return{c(){e=a("p"),t=O(l[1]),r(e,"class","error svelte-1rlhpx0")},m(n,s){S(n,e,s),o(e,t)},p(n,s){s&2&&z(t,n[1])},d(n){n&&E(e)}}}function nl(l){let e,t,n,s,c,i,u,f,d,p,_,h,b,k,y,g,w=l[1]&&Xe(l);return{c(){e=a("div"),t=a("h1"),t.textContent="Endershare",n=m(),s=a("p"),s.textContent="Encrypted P2P File Storage",c=m(),i=a("div"),u=a("button"),f=O(`Create New Vault
      `),d=a("span"),d.textContent="Generate a new encryption key",p=m(),_=a("button"),h=O(`Join Existing Vault
      `),b=a("span"),b.textContent="Connect to another device",k=m(),w&&w.c(),r(t,"class","svelte-1rlhpx0"),r(s,"class","subtitle svelte-1rlhpx0"),r(d,"class","btn-desc svelte-1rlhpx0"),r(u,"class","setup-btn primary svelte-1rlhpx0"),u.disabled=l[0],r(b,"class","btn-desc svelte-1rlhpx0"),r(_,"class","setup-btn secondary svelte-1rlhpx0"),_.disabled=l[0],r(i,"class","setup-options svelte-1rlhpx0"),r(e,"class","setup-screen svelte-1rlhpx0")},m(M,D){S(M,e,D),o(e,t),o(e,n),o(e,s),o(e,c),o(e,i),o(i,u),o(u,f),o(u,d),o(i,p),o(i,_),o(_,h),o(_,b),o(e,k),w&&w.m(e,null),y||(g=[j(u,"click",l[2]),j(_,"click",l[3])],y=!0)},p(M,[D]){D&1&&(u.disabled=M[0]),D&1&&(_.disabled=M[0]),M[1]?w?w.p(M,D):(w=Xe(M),w.c(),w.m(e,null)):w&&(w.d(1),w=null)},i:$,o:$,d(M){M&&E(e),w&&w.d(),y=!1,se(g)}}}function sl(l,e,t){let n,s;re(l,H,u=>t(0,n=u)),re(l,te,u=>t(1,s=u));async function c(){H.set(!0),te.set("");try{const u=await Qt();Qe.set(u),fe.set("unlocked")}catch(u){te.set(String(u))}finally{H.set(!1)}}async function i(){H.set(!0),te.set("");try{await tl(),fe.set("binding")}catch(u){te.set(String(u))}finally{H.set(!1)}}return[n,s,c,i]}class il extends Ce{constructor(e){super(),ye(this,e,sl,nl,de,{})}}function ol(l,e,t){return window.runtime.EventsOnMultiple(l,e,t)}function jt(l,e){return ol(l,e,-1)}function rl(l){let e,t,n,s,c,i,u=(l[0]||"Loading...")+"",f,d,p,_,h,b,k,y,g,w;return{c(){e=a("div"),t=a("h1"),t.textContent="Waiting for Authorization",n=m(),s=a("p"),s.textContent="Enter this phrase on your master device to authorize this replica:",c=m(),i=a("div"),f=O(u),d=m(),p=a("div"),_=m(),h=a("p"),h.textContent="Waiting for master node to connect...",b=m(),k=a("button"),y=O("Cancel"),r(t,"class","svelte-10axr7c"),r(s,"class","instruction svelte-10axr7c"),r(i,"class","phrase-display svelte-10axr7c"),r(p,"class","spinner svelte-10axr7c"),r(h,"class","waiting-text svelte-10axr7c"),r(k,"class","cancel-btn svelte-10axr7c"),k.disabled=l[1],r(e,"class","binding-screen svelte-10axr7c")},m(M,D){S(M,e,D),o(e,t),o(e,n),o(e,s),o(e,c),o(e,i),o(i,f),o(e,d),o(e,p),o(e,_),o(e,h),o(e,b),o(e,k),o(k,y),g||(w=j(k,"click",l[2]),g=!0)},p(M,[D]){D&1&&u!==(u=(M[0]||"Loading...")+"")&&z(f,u),D&2&&(k.disabled=M[1])},i:$,o:$,d(M){M&&E(e),g=!1,w()}}}function cl(l,e,t){let n;re(l,H,u=>t(1,n=u));let s="",c;je(async()=>{t(0,s=await $t()),c=jt("binding-complete",()=>{fe.set("locked")})}),Te(()=>{c&&c()});async function i(){H.set(!0),await zt(),fe.set("fresh"),H.set(!1)}return[s,n,i]}class al extends Ce{constructor(e){super(),ye(this,e,cl,rl,de,{})}}const Ye="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAP1BMVEUAAACGhobn59bMzMxmZmYAAADAwMD4+PgAM2YzM8wAZswzAJkAZv9mmf8AAICZmZlVVVWtqZAA/wAAgAD///82+nVAAAAAAXRSTlMAQObYZgAAAAFiS0dEFJLfyTUAAAAHdElNRQfiBBMBJTGYm/RyAAABV0lEQVRIx62Wi66DIBBEXYT1ArWV+v//Wh4qILKryR3SpmnOMCwIOAylgNTQCMTYlQCpWh678nxjgKmvwJ8NMIm+UP6T4e9aU9+gTWxJdm+EwdMmOkzhsWTCa37lDM0nmHmaTR6TfpygH9ZwI0HX/XMJWjfjYRKSntRwFp9gWgc/pLwM92qwO82v9EUFXIKtWDbB1iSfYC9FGN6X6hu6h0YyKHU2kIeAkvKjKgMSSnw1qnBUEYr8Uo1JkYp8mSA5Bb5IoA7WJO8pE/wcjXXzJ/yIW3Ojc/KccKLDV8GjC3yd8P2uBx8tOB6XDzq3NAnrupYJoe99ipaszGO+no7lclGAoWhEPzGobjwWBb8bPO9/dj71Tap4vlwLjNN0mxd+bhXDS6z4cFeT9UoQFZ8M1PMDKLYOcePpfSPBuX1FIPHM+4gE2BYvvwpw++bYcqp5OblStm5//AA/0CmguZjofAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wNC0xOVQwMTozNzo0OS0wNDowMJ7OKi4AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDQtMTlUMDE6Mzc6NDktMDQ6MDDvk5KSAAAAAElFTkSuQmCC";function qe(l,e,t){const n=l.slice();return n[19]=e[t],n}function He(l,e,t){const n=l.slice();return n[19]=e[t],n}function ul(l){let e,t,n,s,c,i,u,f,d,p,_,h=l[2].entryCount+"",b,k,y,g,w,M,D=Pe(l[2].totalSize)+"",I,T,B,F,C,x,le=l[1].filter(st).length+"",P,G,V=l[1].length+"",L,Q,N,R,J,Y,Z,ee,K,A=l[3]&&$e(l);function v(W,X){return W[1].length===0?pl:dl}let U=v(l),ne=U(l);return{c(){e=a("div"),t=a("div"),n=a("div"),s=a("h2"),s.textContent="Node Dashboard",c=m(),i=a("button"),i.textContent="\u2715",u=m(),A&&A.c(),f=m(),d=a("div"),p=a("div"),_=a("span"),b=O(h),k=m(),y=a("span"),y.textContent="Entries",g=m(),w=a("div"),M=a("span"),I=O(D),T=m(),B=a("span"),B.textContent="Total Size",F=m(),C=a("div"),x=a("span"),P=O(le),G=O("/"),L=O(V),Q=m(),N=a("span"),N.textContent="Peers Online",R=m(),J=a("div"),Y=a("h3"),Y.textContent="Connected Devices",Z=m(),ne.c(),r(s,"class","svelte-1il47o5"),r(i,"class","close-btn svelte-1il47o5"),r(n,"class","modal-header svelte-1il47o5"),r(_,"class","stat-value svelte-1il47o5"),r(y,"class","stat-label svelte-1il47o5"),r(p,"class","stat-card svelte-1il47o5"),r(M,"class","stat-value svelte-1il47o5"),r(B,"class","stat-label svelte-1il47o5"),r(w,"class","stat-card svelte-1il47o5"),r(x,"class","stat-value svelte-1il47o5"),r(N,"class","stat-label svelte-1il47o5"),r(C,"class","stat-card svelte-1il47o5"),r(d,"class","stats-row svelte-1il47o5"),r(Y,"class","svelte-1il47o5"),r(J,"class","section svelte-1il47o5"),r(t,"class","modal svelte-1il47o5"),r(e,"class","modal-overlay svelte-1il47o5")},m(W,X){S(W,e,X),o(e,t),o(t,n),o(n,s),o(n,c),o(n,i),o(t,u),A&&A.m(t,null),o(t,f),o(t,d),o(d,p),o(p,_),o(_,b),o(p,k),o(p,y),o(d,g),o(d,w),o(w,M),o(M,I),o(w,T),o(w,B),o(d,F),o(d,C),o(C,x),o(x,P),o(x,G),o(x,L),o(C,Q),o(C,N),o(t,R),o(t,J),o(J,Y),o(J,Z),ne.m(J,null),ee||(K=[j(i,"click",l[10]),j(t,"click",pe(l[12])),j(e,"click",l[10])],ee=!0)},p(W,X){W[3]?A?A.p(W,X):(A=$e(W),A.c(),A.m(t,f)):A&&(A.d(1),A=null),X&4&&h!==(h=W[2].entryCount+"")&&z(b,h),X&4&&D!==(D=Pe(W[2].totalSize)+"")&&z(I,D),X&2&&le!==(le=W[1].filter(st).length+"")&&z(P,le),X&2&&V!==(V=W[1].length+"")&&z(L,V),U===(U=v(W))&&ne?ne.p(W,X):(ne.d(1),ne=U(W),ne&&(ne.c(),ne.m(J,null)))},d(W){W&&E(e),A&&A.d(),ne.d(),ee=!1,se(K)}}}function fl(l){let e,t,n,s,c,i,u,f,d,p,_=l[2].entryCount+"",h,b,k,y,g,w,M=Pe(l[2].totalSize)+"",D,I,T,B,F,C,x=l[1].filter(nt).length+"",le,P,G=l[1].length+"",V,L,Q,N,R,J,Y,Z;function ee(q,oe){return q[4]?ml:_l}let K=ee(l),A=K(l),v=l[3]&&et(l);function U(q,oe){return q[1].length===0?Al:vl}let ne=U(l),W=ne(l),X=l[7]&&lt(l);return{c(){e=a("div"),t=a("div"),n=a("h2"),n.textContent="Node Dashboard",s=m(),A.c(),c=m(),i=a("div"),v&&v.c(),u=m(),f=a("div"),d=a("div"),p=a("span"),h=O(_),b=m(),k=a("span"),k.textContent="Entries",y=m(),g=a("div"),w=a("span"),D=O(M),I=m(),T=a("span"),T.textContent="Total Size",B=m(),F=a("div"),C=a("span"),le=O(x),P=O("/"),V=O(G),L=m(),Q=a("span"),Q.textContent="Peers Online",N=m(),R=a("div"),J=a("h3"),J.textContent="Connected Devices",Y=m(),W.c(),Z=m(),X&&X.c(),r(n,"class","svelte-1il47o5"),r(t,"class","top-bar svelte-1il47o5"),r(p,"class","stat-value svelte-1il47o5"),r(k,"class","stat-label svelte-1il47o5"),r(d,"class","stat-card svelte-1il47o5"),r(w,"class","stat-value svelte-1il47o5"),r(T,"class","stat-label svelte-1il47o5"),r(g,"class","stat-card svelte-1il47o5"),r(C,"class","stat-value svelte-1il47o5"),r(Q,"class","stat-label svelte-1il47o5"),r(F,"class","stat-card svelte-1il47o5"),r(f,"class","stats-row svelte-1il47o5"),r(J,"class","svelte-1il47o5"),r(R,"class","section svelte-1il47o5"),r(i,"class","dashboard-content svelte-1il47o5"),r(e,"class","dashboard-page svelte-1il47o5")},m(q,oe){S(q,e,oe),o(e,t),o(t,n),o(t,s),A.m(t,null),o(e,c),o(e,i),v&&v.m(i,null),o(i,u),o(i,f),o(f,d),o(d,p),o(p,h),o(d,b),o(d,k),o(f,y),o(f,g),o(g,w),o(w,D),o(g,I),o(g,T),o(f,B),o(f,F),o(F,C),o(C,le),o(C,P),o(C,V),o(F,L),o(F,Q),o(i,N),o(i,R),o(R,J),o(R,Y),W.m(R,null),o(e,Z),X&&X.m(e,null)},p(q,oe){K===(K=ee(q))&&A?A.p(q,oe):(A.d(1),A=K(q),A&&(A.c(),A.m(t,null))),q[3]?v?v.p(q,oe):(v=et(q),v.c(),v.m(i,u)):v&&(v.d(1),v=null),oe&4&&_!==(_=q[2].entryCount+"")&&z(h,_),oe&4&&M!==(M=Pe(q[2].totalSize)+"")&&z(D,M),oe&2&&x!==(x=q[1].filter(nt).length+"")&&z(le,x),oe&2&&G!==(G=q[1].length+"")&&z(V,G),ne===(ne=U(q))&&W?W.p(q,oe):(W.d(1),W=ne(q),W&&(W.c(),W.m(R,null))),q[7]?X?X.p(q,oe):(X=lt(q),X.c(),X.m(e,null)):X&&(X.d(1),X=null)},d(q){q&&E(e),A.d(),v&&v.d(),W.d(),X&&X.d()}}}function $e(l){let e,t,n,s,c;return{c(){e=a("div"),t=a("span"),t.textContent="Node ID",n=m(),s=a("span"),c=O(l[3]),r(t,"class","node-id-label svelte-1il47o5"),r(s,"class","node-id-value svelte-1il47o5"),r(e,"class","node-id-section svelte-1il47o5")},m(i,u){S(i,e,u),o(e,t),o(e,n),o(e,s),o(s,c)},p(i,u){u&8&&z(c,i[3])},d(i){i&&E(e)}}}function dl(l){let e,t=l[1],n=[];for(let s=0;s<t.length;s+=1)n[s]=xe(qe(l,t,s));return{c(){e=a("div");for(let s=0;s<n.length;s+=1)n[s].c();r(e,"class","peer-list svelte-1il47o5")},m(s,c){S(s,e,c);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,c){if(c&2){t=s[1];let i;for(i=0;i<t.length;i+=1){const u=qe(s,t,i);n[i]?n[i].p(u,c):(n[i]=xe(u),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(s){s&&E(e),De(n,s)}}}function pl(l){let e;return{c(){e=a("p"),e.textContent="No connected devices",r(e,"class","empty svelte-1il47o5")},m(t,n){S(t,e,n)},p:$,d(t){t&&E(e)}}}function xe(l){let e,t,n,s,c,i,u,f,d=l[19].peerId+"",p,_,h,b=(l[19].isOnline?"Online":l[19].lastSeen)+"",k,y;return{c(){e=a("div"),t=a("div"),n=a("img"),c=m(),i=a("span"),u=m(),f=a("span"),p=O(d),_=m(),h=a("span"),k=O(b),y=m(),r(n,"class","peer-icon svelte-1il47o5"),Ee(n.src,s=Ye)||r(n,"src",s),r(n,"alt","device"),r(i,"class","status-dot svelte-1il47o5"),ae(i,"online",l[19].isOnline),r(f,"class","peer-id svelte-1il47o5"),r(t,"class","peer-info svelte-1il47o5"),r(h,"class","last-seen svelte-1il47o5"),r(e,"class","peer-item svelte-1il47o5")},m(g,w){S(g,e,w),o(e,t),o(t,n),o(t,c),o(t,i),o(t,u),o(t,f),o(f,p),o(e,_),o(e,h),o(h,k),o(e,y)},p(g,w){w&2&&ae(i,"online",g[19].isOnline),w&2&&d!==(d=g[19].peerId+"")&&z(p,d),w&2&&b!==(b=(g[19].isOnline?"Online":g[19].lastSeen)+"")&&z(k,b)},d(g){g&&E(e)}}}function _l(l){let e,t,n;return{c(){e=a("button"),e.textContent="Unlock Vault",r(e,"class","unlock-btn svelte-1il47o5")},m(s,c){S(s,e,c),t||(n=j(e,"click",l[15]),t=!0)},p:$,d(s){s&&E(e),t=!1,n()}}}function ml(l){let e,t,n,s,c=l[6]?"Unlocking...":"Unlock",i,u,f,d,p,_;return{c(){e=a("div"),t=a("input"),n=m(),s=a("button"),i=O(c),f=m(),d=a("button"),d.textContent="Cancel",r(t,"type","password"),r(t,"class","mnemonic-input svelte-1il47o5"),r(t,"placeholder","Enter 24-word recovery phrase..."),t.disabled=l[6],t.autofocus=!0,r(s,"class","unlock-btn svelte-1il47o5"),s.disabled=u=l[6]||!l[5].trim(),r(d,"class","cancel-btn svelte-1il47o5"),r(e,"class","unlock-row svelte-1il47o5")},m(h,b){S(h,e,b),o(e,t),ke(t,l[5]),o(e,n),o(e,s),o(s,i),o(e,f),o(e,d),t.focus(),p||(_=[j(t,"input",l[13]),j(t,"keydown",l[9]),j(s,"click",l[8]),j(d,"click",l[14])],p=!0)},p(h,b){b&64&&(t.disabled=h[6]),b&32&&t.value!==h[5]&&ke(t,h[5]),b&64&&c!==(c=h[6]?"Unlocking...":"Unlock")&&z(i,c),b&96&&u!==(u=h[6]||!h[5].trim())&&(s.disabled=u)},d(h){h&&E(e),p=!1,se(_)}}}function et(l){let e,t,n,s,c;return{c(){e=a("div"),t=a("span"),t.textContent="Node ID",n=m(),s=a("span"),c=O(l[3]),r(t,"class","node-id-label svelte-1il47o5"),r(s,"class","node-id-value svelte-1il47o5"),r(e,"class","node-id-section svelte-1il47o5")},m(i,u){S(i,e,u),o(e,t),o(e,n),o(e,s),o(s,c)},p(i,u){u&8&&z(c,i[3])},d(i){i&&E(e)}}}function vl(l){let e,t=l[1],n=[];for(let s=0;s<t.length;s+=1)n[s]=tt(He(l,t,s));return{c(){e=a("div");for(let s=0;s<n.length;s+=1)n[s].c();r(e,"class","peer-list svelte-1il47o5")},m(s,c){S(s,e,c);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,c){if(c&2){t=s[1];let i;for(i=0;i<t.length;i+=1){const u=He(s,t,i);n[i]?n[i].p(u,c):(n[i]=tt(u),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(s){s&&E(e),De(n,s)}}}function Al(l){let e;return{c(){e=a("p"),e.textContent="No connected devices",r(e,"class","empty svelte-1il47o5")},m(t,n){S(t,e,n)},p:$,d(t){t&&E(e)}}}function tt(l){let e,t,n,s,c,i,u,f,d=l[19].peerId+"",p,_,h,b=(l[19].isOnline?"Online":l[19].lastSeen)+"",k,y;return{c(){e=a("div"),t=a("div"),n=a("img"),c=m(),i=a("span"),u=m(),f=a("span"),p=O(d),_=m(),h=a("span"),k=O(b),y=m(),r(n,"class","peer-icon svelte-1il47o5"),Ee(n.src,s=Ye)||r(n,"src",s),r(n,"alt","device"),r(i,"class","status-dot svelte-1il47o5"),ae(i,"online",l[19].isOnline),r(f,"class","peer-id svelte-1il47o5"),r(t,"class","peer-info svelte-1il47o5"),r(h,"class","last-seen svelte-1il47o5"),r(e,"class","peer-item svelte-1il47o5")},m(g,w){S(g,e,w),o(e,t),o(t,n),o(t,c),o(t,i),o(t,u),o(t,f),o(f,p),o(e,_),o(e,h),o(h,k),o(e,y)},p(g,w){w&2&&ae(i,"online",g[19].isOnline),w&2&&d!==(d=g[19].peerId+"")&&z(p,d),w&2&&b!==(b=(g[19].isOnline?"Online":g[19].lastSeen)+"")&&z(k,b)},d(g){g&&E(e)}}}function lt(l){let e,t,n,s,c,i;return{c(){e=a("div"),t=O(l[7]),n=m(),s=a("button"),s.textContent="\u2715",r(s,"class","svelte-1il47o5"),r(e,"class","error-bar svelte-1il47o5")},m(u,f){S(u,e,f),o(e,t),o(e,n),o(e,s),c||(i=j(s,"click",l[16]),c=!0)},p(u,f){f&128&&z(t,u[7])},d(u){u&&E(e),c=!1,i()}}}function hl(l){let e,t,n;function s(u,f){return u[0]?fl:ul}let c=s(l),i=c(l);return{c(){i.c(),e=Re()},m(u,f){i.m(u,f),S(u,e,f),t||(n=j(window,"keydown",l[11]),t=!0)},p(u,[f]){c===(c=s(u))&&i?i.p(u,f):(i.d(1),i=c(u),i&&(i.c(),i.m(e.parentNode,e)))},i:$,o:$,d(u){i.d(u),u&&E(e),t=!1,n()}}}function Pe(l){if(l===0)return"0 B";const e=["B","KB","MB","GB","TB"],t=Math.floor(Math.log(l)/Math.log(1024));return(l/Math.pow(1024,t)).toFixed(1)+" "+e[t]}const nt=l=>l.isOnline,st=l=>l.isOnline;function bl(l,e,t){let n,s;re(l,H,B=>t(6,n=B)),re(l,te,B=>t(7,s=B));let{fullPage:c=!1}=e,i=[],u={entryCount:0,totalSize:0},f="",d=!1,p="",_;je(()=>{h(),_=setInterval(h,5e3)}),Te(()=>{clearInterval(_)});async function h(){try{const[B,F,C]=await Promise.all([Bt(),Ht(),qt()]);t(1,i=B),t(2,u=F),t(3,f=C)}catch(B){te.set(String(B))}}async function b(){if(!p.trim()){te.set("Please enter your recovery phrase");return}H.set(!0),te.set("");try{await ll(p.trim()),fe.set("unlocked"),Fe.set(!1)}catch(B){te.set(String(B))}finally{H.set(!1)}}function k(B){B.key==="Enter"&&b(),B.key==="Escape"&&(t(4,d=!1),t(5,p=""),te.set(""))}function y(){Fe.set(!1)}function g(B){B.key==="Escape"&&!c&&y()}function w(B){Be.call(this,l,B)}function M(){p=this.value,t(5,p)}const D=()=>{t(4,d=!1),t(5,p=""),te.set("")},I=()=>t(4,d=!0),T=()=>te.set("");return l.$$set=B=>{"fullPage"in B&&t(0,c=B.fullPage)},[c,i,u,f,d,p,n,s,b,k,y,g,w,M,D,I,T]}class Ot extends Ce{constructor(e){super(),ye(this,e,bl,hl,de,{fullPage:0})}}function it(l,e,t){const n=l.slice();return n[21]=e[t],n}function gl(l){let e,t=l[0],n=[];for(let s=0;s<t.length;s+=1)n[s]=ot(it(l,t,s));return{c(){e=a("div");for(let s=0;s<n.length;s+=1)n[s].c();r(e,"class","peer-list svelte-a3c2jr")},m(s,c){S(s,e,c);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,c){if(c&129){t=s[0];let i;for(i=0;i<t.length;i+=1){const u=it(s,t,i);n[i]?n[i].p(u,c):(n[i]=ot(u),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(s){s&&E(e),De(n,s)}}}function kl(l){let e;return{c(){e=a("p"),e.textContent="No connected devices",r(e,"class","empty svelte-a3c2jr")},m(t,n){S(t,e,n)},p:$,d(t){t&&E(e)}}}function ot(l){let e,t,n,s,c,i,u,f,d=l[21].peerId+"",p,_,h,b,k=(l[21].isOnline?"Online":l[21].lastSeen)+"",y,g,w,M,D,I;function T(){return l[15](l[21])}return{c(){e=a("div"),t=a("div"),n=a("img"),c=m(),i=a("span"),u=m(),f=a("span"),p=O(d),_=m(),h=a("div"),b=a("span"),y=O(k),g=m(),w=a("button"),w.textContent="\u2715",M=m(),r(n,"class","peer-icon svelte-a3c2jr"),Ee(n.src,s=Ye)||r(n,"src",s),r(n,"alt","device"),r(i,"class","status-dot svelte-a3c2jr"),ae(i,"online",l[21].isOnline),r(f,"class","peer-id svelte-a3c2jr"),r(t,"class","peer-info svelte-a3c2jr"),r(b,"class","last-seen svelte-a3c2jr"),r(w,"class","remove-btn svelte-a3c2jr"),r(w,"title","Remove device"),r(h,"class","peer-meta svelte-a3c2jr"),r(e,"class","peer-item svelte-a3c2jr")},m(B,F){S(B,e,F),o(e,t),o(t,n),o(t,c),o(t,i),o(t,u),o(t,f),o(f,p),o(e,_),o(e,h),o(h,b),o(b,y),o(h,g),o(h,w),o(e,M),D||(I=j(w,"click",T),D=!0)},p(B,F){l=B,F&1&&ae(i,"online",l[21].isOnline),F&1&&d!==(d=l[21].peerId+"")&&z(p,d),F&1&&k!==(k=(l[21].isOnline?"Online":l[21].lastSeen)+"")&&z(y,k)},d(B){B&&E(e),D=!1,I()}}}function rt(l){let e;function t(c,i){return c[3]?yl:wl}let n=t(l),s=n(l);return{c(){e=a("div"),s.c(),r(e,"class","add-device-section svelte-a3c2jr")},m(c,i){S(c,e,i),s.m(e,null)},p(c,i){n===(n=t(c))&&s?s.p(c,i):(s.d(1),s=n(c),s&&(s.c(),s.m(e,null)))},d(c){c&&E(e),s.d()}}}function wl(l){let e,t,n;return{c(){e=a("button"),e.textContent="+ Add New Device",r(e,"class","add-device-btn svelte-a3c2jr")},m(s,c){S(s,e,c),t||(n=j(e,"click",l[18]),t=!0)},p:$,d(s){s&&E(e),t=!1,n()}}}function yl(l){let e,t,n,s,c,i,u,f,d;return{c(){e=a("div"),t=a("input"),n=m(),s=a("button"),c=O("Bind"),i=m(),u=a("button"),u.textContent="Cancel",r(t,"type","text"),r(t,"class","bind-input svelte-a3c2jr"),r(t,"placeholder","Enter 4-word phrase..."),t.autofocus=!0,r(s,"class","action-btn svelte-a3c2jr"),s.disabled=l[6],r(u,"class","action-btn secondary svelte-a3c2jr"),r(e,"class","bind-input-row svelte-a3c2jr")},m(p,_){S(p,e,_),o(e,t),ke(t,l[2]),o(e,n),o(e,s),o(s,c),o(e,i),o(e,u),t.focus(),f||(d=[j(t,"input",l[16]),j(s,"click",l[10]),j(u,"click",l[17])],f=!0)},p(p,_){_&4&&t.value!==p[2]&&ke(t,p[2]),_&64&&(s.disabled=p[6])},d(p){p&&E(e),f=!1,se(d)}}}function ct(l){let e;return{c(){e=a("p"),e.textContent="Replica nodes sync data but cannot decrypt files without the recovery phrase.",r(e,"class","replica-note svelte-a3c2jr")},m(t,n){S(t,e,n)},d(t){t&&E(e)}}}function at(l){let e,t,n,s,c,i,u,f,d,p,_,h,b,k,y;return{c(){e=a("div"),t=a("div"),n=a("h3"),n.textContent="Remove Device",s=m(),c=a("p"),i=O("Are you sure you want to remove device "),u=O(l[5]),f=O("?"),d=m(),p=a("div"),_=a("button"),_.textContent="Cancel",h=m(),b=a("button"),b.textContent="Remove",r(n,"class","svelte-a3c2jr"),r(c,"class","svelte-a3c2jr"),r(_,"class","cancel-btn svelte-a3c2jr"),r(b,"class","remove-confirm-btn svelte-a3c2jr"),r(p,"class","confirm-buttons svelte-a3c2jr"),r(t,"class","confirm-modal svelte-a3c2jr"),r(t,"role","document"),r(e,"class","confirm-overlay svelte-a3c2jr"),r(e,"role","dialog"),r(e,"aria-modal","true")},m(g,w){S(g,e,w),o(e,t),o(t,n),o(t,s),o(t,c),o(c,i),o(c,u),o(c,f),o(t,d),o(t,p),o(p,_),o(p,h),o(p,b),k||(y=[j(_,"click",l[8]),j(b,"click",l[9]),j(t,"click",pe(l[13])),j(e,"click",l[8])],k=!0)},p(g,w){w&32&&z(u,g[5])},d(g){g&&E(e),k=!1,se(y)}}}function Cl(l){let e,t,n,s,c,i,u,f,d,p,_,h,b,k,y,g,w,M,D=l[1]?"Master":"Replica",I,T,B,F,C,x;function le(N,R){return N[0].length===0?kl:gl}let P=le(l),G=P(l),V=l[1]&&rt(l),L=!l[1]&&ct(),Q=l[4]&&l[5]&&at(l);return{c(){e=a("div"),t=a("div"),n=a("div"),s=a("h2"),s.textContent="Settings",c=m(),i=a("button"),i.textContent="\u2715",u=m(),f=a("div"),d=a("h3"),d.textContent="Connected Devices",p=m(),G.c(),_=m(),V&&V.c(),h=m(),b=a("div"),k=a("h3"),k.textContent="Node Info",y=m(),g=a("p"),w=O("Node type: "),M=a("strong"),I=O(D),T=m(),L&&L.c(),B=m(),Q&&Q.c(),F=Re(),r(s,"class","svelte-a3c2jr"),r(i,"class","close-btn svelte-a3c2jr"),r(n,"class","modal-header svelte-a3c2jr"),r(d,"class","svelte-a3c2jr"),r(f,"class","section svelte-a3c2jr"),r(k,"class","svelte-a3c2jr"),r(g,"class","node-type svelte-a3c2jr"),r(b,"class","section svelte-a3c2jr"),r(t,"class","modal svelte-a3c2jr"),r(e,"class","modal-overlay svelte-a3c2jr")},m(N,R){S(N,e,R),o(e,t),o(t,n),o(n,s),o(n,c),o(n,i),o(t,u),o(t,f),o(f,d),o(f,p),G.m(f,null),o(f,_),V&&V.m(f,null),o(t,h),o(t,b),o(b,k),o(b,y),o(b,g),o(g,w),o(g,M),o(M,I),o(b,T),L&&L.m(b,null),S(N,B,R),Q&&Q.m(N,R),S(N,F,R),C||(x=[j(window,"keydown",l[12]),j(i,"click",l[11]),j(t,"click",pe(l[14])),j(e,"click",l[11])],C=!0)},p(N,[R]){P===(P=le(N))&&G?G.p(N,R):(G.d(1),G=P(N),G&&(G.c(),G.m(f,_))),N[1]?V?V.p(N,R):(V=rt(N),V.c(),V.m(f,null)):V&&(V.d(1),V=null),R&2&&D!==(D=N[1]?"Master":"Replica")&&z(I,D),N[1]?L&&(L.d(1),L=null):L||(L=ct(),L.c(),L.m(b,null)),N[4]&&N[5]?Q?Q.p(N,R):(Q=at(N),Q.c(),Q.m(F.parentNode,F)):Q&&(Q.d(1),Q=null)},i:$,o:$,d(N){N&&E(e),G.d(),V&&V.d(),L&&L.d(),N&&E(B),Q&&Q.d(N),N&&E(F),C=!1,se(x)}}}function Ml(l,e,t){let n;re(l,H,C=>t(6,n=C));let s=[],c=!1,i="",u=!1,f=!1,d=null,p;je(async()=>{await _(),t(1,c=await Dt()),p=setInterval(_,5e3)}),Te(()=>{clearInterval(p)});async function _(){try{t(0,s=await Bt())}catch(C){te.set(String(C))}}function h(C){t(5,d=C),t(4,f=!0)}function b(){t(4,f=!1),t(5,d=null)}async function k(){if(!d)return;const C=d;t(4,f=!1),t(5,d=null),H.set(!0);try{await el(C),await _()}catch(x){te.set(String(x))}finally{H.set(!1)}}async function y(){if(!!i.trim()){H.set(!0);try{await Vt(i.trim()),t(2,i=""),t(3,u=!1),await _()}catch(C){te.set(String(C))}finally{H.set(!1)}}}function g(){Je.set(!1)}function w(C){C.key==="Escape"?g():C.key==="Enter"&&u&&y()}function M(C){Be.call(this,l,C)}function D(C){Be.call(this,l,C)}const I=C=>h(C.peerId);function T(){i=this.value,t(2,i)}return[s,c,i,u,f,d,n,h,b,k,y,g,w,M,D,I,T,()=>{t(3,u=!1),t(2,i="")},()=>t(3,u=!0)]}class El extends Ce{constructor(e){super(),ye(this,e,Ml,Cl,de,{})}}const ut="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEUAAACZmQAAAAD4+Pj//5nMzGb/zJn////5no2yAAAAAXRSTlMAQObYZgAAAAFiS0dEBxZhiOsAAAAHdElNRQfiBhgXARMJeV+TAAABE0lEQVQ4y82TzQ3CMAyFywhtxb1iA1QWQLJ858AGlvcfAfs5aRMTceapaoVfPv9FTNMPzdDyFb/s0H3LxkqhjFwexXhuYyAjB5CRE0jI9X3qNVfZkXUfautSFQkzL9nwIAlJNixExKSJELGgQJlge9jzJQPnzeoJL4uPDAiORB3B3pM34J52hADg1BVXE3ZbA785sCZVBULt5BwtAUuTCypEiSNVNCmM8UTTrsxTL66kzRyOYOGoXYuXRB40wLrVbkAUttdRg33dFL16Lj264siF9OThZkBcKqFVrYSfjWVo7MuIdkBcNoBzV1K2YQQ+Gqk8HPtGYXZIK1EuNJwyIGagGE2RSNHudR5qmW5jff2F/1wfr4rjk5A1shsAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDYtMjRUMjM6MDE6MTktMDQ6MDDthFzGAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTA2LTI0VDIzOjAxOjE5LTA0OjAwnNnkegAAAABJRU5ErkJggg==",ft="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfiBhgXExGfg05sAAAAkklEQVRIx+2VSw6AIAxEn4Z71ZuJR/NkuFEjgqVoNJrYFZ/0Mcwk0ACADxjKN+maWwZ9sX2AQIJoLSevCiBcAnQZhNtOxmhLEoAAHh9dxOktZcShAjEiqhREEcwIxYM9sN9EPdKd8yCtqhhvAage5Eo0wBkPKhWIDnhAwe/B78EbPJAS4OMvkiWBXC1Pvel7z/VOSOIg4J8g79UAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDYtMjRUMjM6MTk6MTctMDQ6MDBv4rivAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTA2LTI0VDIzOjE5OjE3LTA0OjAwHr8AEwAAAABJRU5ErkJggg==";function dt(l,e,t){const n=l.slice();return n[38]=e[t],n}function pt(l,e,t){const n=l.slice();return n[41]=e[t],n[43]=t,n}function Sl(l){let e;return{c(){e=a("span"),e.textContent="/",r(e,"class","separator svelte-1cp5ngi")},m(t,n){S(t,e,n)},d(t){t&&E(e)}}}function _t(l){let e,t,n=(l[41].folderId===0?"Home":l[41].name)+"",s,c,i,u,f=l[43]>0&&Sl();function d(){return l[25](l[41])}return{c(){f&&f.c(),e=m(),t=a("button"),s=O(n),c=m(),r(t,"class","path-segment svelte-1cp5ngi"),ae(t,"current",l[43]===l[2].length-1)},m(p,_){f&&f.m(p,_),S(p,e,_),S(p,t,_),o(t,s),o(t,c),i||(u=j(t,"click",d),i=!0)},p(p,_){l=p,_[0]&4&&n!==(n=(l[41].folderId===0?"Home":l[41].name)+"")&&z(s,n),_[0]&4&&ae(t,"current",l[43]===l[2].length-1)},d(p){f&&f.d(p),p&&E(e),p&&E(t),i=!1,u()}}}function Bl(l){let e,t,n,s,c;return{c(){e=a("button"),e.textContent="New Folder",t=m(),n=a("button"),n.innerHTML='<span class="icon">+</span> Add File',r(e,"class","action-btn svelte-1cp5ngi"),r(n,"class","action-btn svelte-1cp5ngi")},m(i,u){S(i,e,u),S(i,t,u),S(i,n,u),s||(c=[j(e,"click",l[28]),j(n,"click",l[15])],s=!0)},p:$,d(i){i&&E(e),i&&E(t),i&&E(n),s=!1,se(c)}}}function Dl(l){let e,t,n,s,c,i,u;return{c(){e=a("input"),t=m(),n=a("button"),n.textContent="Create",s=m(),c=a("button"),c.textContent="Cancel",r(e,"type","text"),r(e,"class","folder-input svelte-1cp5ngi"),r(e,"placeholder","Folder name..."),e.autofocus=!0,r(n,"class","action-btn svelte-1cp5ngi"),r(c,"class","action-btn svelte-1cp5ngi")},m(f,d){S(f,e,d),ke(e,l[3]),S(f,t,d),S(f,n,d),S(f,s,d),S(f,c,d),e.focus(),i||(u=[j(e,"input",l[26]),j(e,"keydown",l[22]),j(n,"click",l[16]),j(c,"click",l[27])],i=!0)},p(f,d){d[0]&8&&e.value!==f[3]&&ke(e,f[3])},d(f){f&&E(e),f&&E(t),f&&E(n),f&&E(s),f&&E(c),i=!1,se(u)}}}function jl(l){let e,t=l[1],n=[];for(let s=0;s<t.length;s+=1)n[s]=vt(dt(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Re()},m(s,c){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(s,c);S(s,e,c)},p(s,c){if(c[0]&409602){t=s[1];let i;for(i=0;i<t.length;i+=1){const u=dt(s,t,i);n[i]?n[i].p(u,c):(n[i]=vt(u),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(s){De(n,s),s&&E(e)}}}function Ol(l){let e;return{c(){e=a("div"),e.innerHTML=`<p>This folder is empty</p> 
        <p class="hint svelte-1cp5ngi">Add files or create folders to get started</p>`,r(e,"class","empty-state svelte-1cp5ngi")},m(t,n){S(t,e,n)},p:$,d(t){t&&E(e)}}}function mt(l){let e,t,n;function s(){return l[31](l[38])}return{c(){e=a("button"),e.textContent="\u2193",r(e,"class","item-btn svelte-1cp5ngi"),r(e,"title","Export")},m(c,i){S(c,e,i),t||(n=j(e,"click",pe(s)),t=!0)},p(c,i){l=c},d(c){c&&E(e),t=!1,n()}}}function vt(l){let e,t,n,s,c,i,u=l[38].name+"",f,d,p,_=wt(l[38].size)+"",h,b,k,y=yt(l[38].modifiedAt)+"",g,w,M,D,I,T,B,F,C=l[38].type==="file"&&mt(l);function x(){return l[32](l[38])}function le(){return l[33](l[38])}return{c(){e=a("div"),t=a("img"),c=m(),i=a("span"),f=O(u),d=m(),p=a("span"),h=O(_),b=m(),k=a("span"),g=O(y),w=m(),M=a("div"),C&&C.c(),D=m(),I=a("button"),I.textContent="\u2715",T=m(),r(t,"class","item-icon svelte-1cp5ngi"),Ee(t.src,n=l[38].type==="folder"?ut:ft)||r(t,"src",n),r(t,"alt",s=l[38].type),r(i,"class","item-name svelte-1cp5ngi"),r(p,"class","item-size svelte-1cp5ngi"),r(k,"class","item-date svelte-1cp5ngi"),r(I,"class","item-btn delete svelte-1cp5ngi"),r(I,"title","Delete"),r(M,"class","item-actions svelte-1cp5ngi"),r(e,"class","file-item svelte-1cp5ngi"),ae(e,"folder",l[38].type==="folder")},m(P,G){S(P,e,G),o(e,t),o(e,c),o(e,i),o(i,f),o(e,d),o(e,p),o(p,h),o(e,b),o(e,k),o(k,g),o(e,w),o(e,M),C&&C.m(M,null),o(M,D),o(M,I),o(e,T),B||(F=[j(I,"click",pe(x)),j(e,"click",le)],B=!0)},p(P,G){l=P,G[0]&2&&!Ee(t.src,n=l[38].type==="folder"?ut:ft)&&r(t,"src",n),G[0]&2&&s!==(s=l[38].type)&&r(t,"alt",s),G[0]&2&&u!==(u=l[38].name+"")&&z(f,u),G[0]&2&&_!==(_=wt(l[38].size)+"")&&z(h,_),G[0]&2&&y!==(y=yt(l[38].modifiedAt)+"")&&z(g,y),l[38].type==="file"?C?C.p(l,G):(C=mt(l),C.c(),C.m(M,D)):C&&(C.d(1),C=null),G[0]&2&&ae(e,"folder",l[38].type==="folder")},d(P){P&&E(e),C&&C.d(),B=!1,se(F)}}}function At(l){let e,t,n,s,c,i;return{c(){e=a("div"),t=O(l[9]),n=m(),s=a("button"),s.textContent="\u2715",r(s,"class","svelte-1cp5ngi"),r(e,"class","error-bar svelte-1cp5ngi")},m(u,f){S(u,e,f),o(e,t),o(e,n),o(e,s),c||(i=j(s,"click",l[34]),c=!0)},p(u,f){f[0]&512&&z(t,u[9])},d(u){u&&E(e),c=!1,i()}}}function ht(l){let e,t;return e=new El({}),{c(){we(e.$$.fragment)},m(n,s){_e(e,n,s),t=!0},i(n){t||(ie(e.$$.fragment,n),t=!0)},o(n){ce(e.$$.fragment,n),t=!1},d(n){me(e,n)}}}function bt(l){let e,t;return e=new Ot({}),{c(){we(e.$$.fragment)},m(n,s){_e(e,n,s),t=!0},i(n){t||(ie(e.$$.fragment,n),t=!0)},o(n){ce(e.$$.fragment,n),t=!1},d(n){me(e,n)}}}function gt(l){let e,t,n,s,c=l[7].type==="folder"?"Folder":"File",i,u,f,d,p=l[7].name+"",_,h,b,k,y,g,w,M,D;return{c(){e=a("div"),t=a("div"),n=a("h2"),s=O("Delete "),i=O(c),u=m(),f=a("p"),d=O('Are you sure you want to delete "'),_=O(p),h=O('"?'),b=m(),k=a("div"),y=a("button"),y.textContent="Cancel",g=m(),w=a("button"),w.textContent="Delete",r(n,"class","svelte-1cp5ngi"),r(f,"class","svelte-1cp5ngi"),r(y,"class","cancel-btn svelte-1cp5ngi"),r(w,"class","delete-btn svelte-1cp5ngi"),r(k,"class","modal-buttons svelte-1cp5ngi"),r(t,"class","modal confirm-modal svelte-1cp5ngi"),r(t,"role","document"),r(e,"class","modal-overlay svelte-1cp5ngi"),r(e,"role","dialog"),r(e,"aria-modal","true")},m(I,T){S(I,e,T),o(e,t),o(t,n),o(n,s),o(n,i),o(t,u),o(t,f),o(f,d),o(f,_),o(f,h),o(t,b),o(t,k),o(k,y),o(k,g),o(k,w),M||(D=[j(y,"click",l[19]),j(w,"click",l[20]),j(t,"click",pe(l[24])),j(e,"click",l[19])],M=!0)},p(I,T){T[0]&128&&c!==(c=I[7].type==="folder"?"Folder":"File")&&z(i,c),T[0]&128&&p!==(p=I[7].name+"")&&z(_,p)},d(I){I&&E(e),M=!1,se(D)}}}function kt(l){let e,t,n,s,c,i,u,f,d,p,_,h,b,k;return{c(){e=a("div"),t=a("div"),n=a("h2"),n.textContent="Save Your Recovery Phrase",s=m(),c=a("p"),c.textContent="Write down these words and keep them safe. You will need them to recover your vault.",i=m(),u=a("div"),f=O(l[8]),d=m(),p=a("p"),p.textContent="Anyone with this phrase can access your files. Never share it.",_=m(),h=a("button"),h.textContent="I've Saved My Phrase",r(n,"class","svelte-1cp5ngi"),r(c,"class","warning svelte-1cp5ngi"),r(u,"class","mnemonic-display svelte-1cp5ngi"),r(p,"class","warning svelte-1cp5ngi"),r(h,"class","primary-btn svelte-1cp5ngi"),r(t,"class","modal svelte-1cp5ngi"),r(e,"class","modal-overlay svelte-1cp5ngi")},m(y,g){S(y,e,g),o(e,t),o(t,n),o(t,s),o(t,c),o(t,i),o(t,u),o(u,f),o(t,d),o(t,p),o(t,_),o(t,h),b||(k=[j(h,"click",l[21]),j(t,"click",pe(l[23])),j(e,"click",l[21])],b=!0)},p(y,g){g[0]&256&&z(f,y[8])},d(y){y&&E(e),b=!1,se(k)}}}function Il(l){let e,t,n,s,c,i,u,f,d,p,_,h,b,k,y,g,w,M,D,I,T,B,F,C,x,le=l[2],P=[];for(let A=0;A<le.length;A+=1)P[A]=_t(pt(l,le,A));function G(A,v){return A[4]?Dl:Bl}let V=G(l),L=V(l);function Q(A,v){return A[1].length===0?Ol:jl}let N=Q(l),R=N(l),J=l[9]&&At(l),Y=l[10]&&ht(),Z=l[11]&&bt(),ee=l[6]&&l[7]&&gt(l),K=l[5]&&kt(l);return{c(){e=a("div"),t=a("div"),n=a("div"),s=a("button"),c=a("span"),c.textContent="\u2191",u=m(),f=a("div");for(let A=0;A<P.length;A+=1)P[A].c();d=m(),p=a("div"),L.c(),_=m(),h=a("button"),h.textContent="Dashboard",b=m(),k=a("button"),k.textContent="Settings",y=m(),g=a("div"),R.c(),w=m(),J&&J.c(),M=m(),Y&&Y.c(),D=m(),Z&&Z.c(),I=m(),ee&&ee.c(),T=m(),K&&K.c(),B=Re(),r(c,"class","icon"),r(s,"class","nav-btn svelte-1cp5ngi"),s.disabled=i=l[0]===0,r(f,"class","breadcrumb svelte-1cp5ngi"),r(n,"class","path-section svelte-1cp5ngi"),r(h,"class","action-btn svelte-1cp5ngi"),r(h,"title","Node Dashboard"),r(k,"class","action-btn settings svelte-1cp5ngi"),r(p,"class","actions svelte-1cp5ngi"),r(t,"class","top-bar svelte-1cp5ngi"),r(g,"class","file-list svelte-1cp5ngi"),r(e,"class","file-browser svelte-1cp5ngi")},m(A,v){S(A,e,v),o(e,t),o(t,n),o(n,s),o(s,c),o(n,u),o(n,f);for(let U=0;U<P.length;U+=1)P[U]&&P[U].m(f,null);o(t,d),o(t,p),L.m(p,null),o(p,_),o(p,h),o(p,b),o(p,k),o(e,y),o(e,g),R.m(g,null),o(e,w),J&&J.m(e,null),S(A,M,v),Y&&Y.m(A,v),S(A,D,v),Z&&Z.m(A,v),S(A,I,v),ee&&ee.m(A,v),S(A,T,v),K&&K.m(A,v),S(A,B,v),F=!0,C||(x=[j(s,"click",l[13]),j(h,"click",l[29]),j(k,"click",l[30])],C=!0)},p(A,v){if((!F||v[0]&1&&i!==(i=A[0]===0))&&(s.disabled=i),v[0]&4100){le=A[2];let U;for(U=0;U<le.length;U+=1){const ne=pt(A,le,U);P[U]?P[U].p(ne,v):(P[U]=_t(ne),P[U].c(),P[U].m(f,null))}for(;U<P.length;U+=1)P[U].d(1);P.length=le.length}V===(V=G(A))&&L?L.p(A,v):(L.d(1),L=V(A),L&&(L.c(),L.m(p,_))),N===(N=Q(A))&&R?R.p(A,v):(R.d(1),R=N(A),R&&(R.c(),R.m(g,null))),A[9]?J?J.p(A,v):(J=At(A),J.c(),J.m(e,null)):J&&(J.d(1),J=null),A[10]?Y?v[0]&1024&&ie(Y,1):(Y=ht(),Y.c(),ie(Y,1),Y.m(D.parentNode,D)):Y&&(Ve(),ce(Y,1,1,()=>{Y=null}),ze()),A[11]?Z?v[0]&2048&&ie(Z,1):(Z=bt(),Z.c(),ie(Z,1),Z.m(I.parentNode,I)):Z&&(Ve(),ce(Z,1,1,()=>{Z=null}),ze()),A[6]&&A[7]?ee?ee.p(A,v):(ee=gt(A),ee.c(),ee.m(T.parentNode,T)):ee&&(ee.d(1),ee=null),A[5]?K?K.p(A,v):(K=kt(A),K.c(),K.m(B.parentNode,B)):K&&(K.d(1),K=null)},i(A){F||(ie(Y),ie(Z),F=!0)},o(A){ce(Y),ce(Z),F=!1},d(A){A&&E(e),De(P,A),L.d(),R.d(),J&&J.d(),A&&E(M),Y&&Y.d(A),A&&E(D),Z&&Z.d(A),A&&E(I),ee&&ee.d(A),A&&E(T),K&&K.d(A),A&&E(B),C=!1,se(x)}}}function wt(l){if(l===0)return"";const e=["B","KB","MB","GB"],t=Math.floor(Math.log(l)/Math.log(1024));return(l/Math.pow(1024,t)).toFixed(1)+" "+e[t]}function yt(l){return l?new Date(l).toLocaleDateString():""}function Nl(l,e,t){let n,s,c,i,u;re(l,Ie,v=>t(0,n=v)),re(l,Qe,v=>t(8,s=v)),re(l,te,v=>t(9,c=v)),re(l,Je,v=>t(10,i=v)),re(l,Fe,v=>t(11,u=v));let f=[],d=[],p="",_=!1,h=!1,b=!1,k=null,y=null;je(async()=>{await Dt(),s&&t(5,h=!0),y=jt("data-updated",()=>{g(n)})}),Te(()=>{y&&y()});async function g(v){try{t(1,f=await xt(v)),t(2,d=await Xt(v))}catch(U){te.set(String(U))}}function w(v){Ie.set(v)}function M(){if(d.length>1){const v=d[d.length-2];Ie.set(v.folderId)}}function D(v){v.type==="folder"&&Ie.set(v.folderId)}async function I(){H.set(!0);try{await Ut(n),await g(n)}catch(v){te.set(String(v))}finally{H.set(!1)}}async function T(){if(!!p.trim()){H.set(!0);try{await Jt(p.trim(),n),t(3,p=""),t(4,_=!1),await g(n)}catch(v){te.set(String(v))}finally{H.set(!1)}}}async function B(v){H.set(!0);try{await Zt(v.name,n)}catch(U){te.set(String(U))}finally{H.set(!1)}}function F(v){t(7,k=v),t(6,b=!0)}function C(){t(6,b=!1),t(7,k=null)}async function x(){if(!k)return;const v=k;t(6,b=!1),t(7,k=null),H.set(!0);try{v.type==="folder"?await Wt(v.folderId):await Yt(v.name,n),await g(n)}catch(U){te.set(String(U))}finally{H.set(!1)}}function le(){t(5,h=!1),Qe.set("")}function P(v){v.key==="Enter"?T():v.key==="Escape"&&(t(4,_=!1),t(3,p=""))}function G(v){Be.call(this,l,v)}function V(v){Be.call(this,l,v)}const L=v=>w(v.folderId);function Q(){p=this.value,t(3,p)}const N=()=>{t(4,_=!1),t(3,p="")},R=()=>t(4,_=!0),J=()=>Fe.set(!0),Y=()=>Je.set(!0),Z=v=>B(v),ee=v=>F(v),K=v=>D(v),A=()=>te.set("");return l.$$.update=()=>{l.$$.dirty[0]&1&&g(n)},[n,f,d,p,_,h,b,k,s,c,i,u,w,M,D,I,T,B,F,C,x,le,P,G,V,L,Q,N,R,J,Y,Z,ee,K,A]}class Fl extends Ce{constructor(e){super(),ye(this,e,Nl,Il,de,{},null,[-1,-1])}}function Pl(l){let e;return{c(){e=a("div"),e.textContent="Loading...",r(e,"class","loading svelte-k68acu")},m(t,n){S(t,e,n)},i:$,o:$,d(t){t&&E(e)}}}function Rl(l){let e,t;return e=new Fl({}),{c(){we(e.$$.fragment)},m(n,s){_e(e,n,s),t=!0},i(n){t||(ie(e.$$.fragment,n),t=!0)},o(n){ce(e.$$.fragment,n),t=!1},d(n){me(e,n)}}}function Tl(l){let e,t;return e=new Ot({props:{fullPage:!0}}),{c(){we(e.$$.fragment)},m(n,s){_e(e,n,s),t=!0},i(n){t||(ie(e.$$.fragment,n),t=!0)},o(n){ce(e.$$.fragment,n),t=!1},d(n){me(e,n)}}}function Gl(l){let e,t;return e=new al({}),{c(){we(e.$$.fragment)},m(n,s){_e(e,n,s),t=!0},i(n){t||(ie(e.$$.fragment,n),t=!0)},o(n){ce(e.$$.fragment,n),t=!1},d(n){me(e,n)}}}function Ll(l){let e,t;return e=new il({}),{c(){we(e.$$.fragment)},m(n,s){_e(e,n,s),t=!0},i(n){t||(ie(e.$$.fragment,n),t=!0)},o(n){ce(e.$$.fragment,n),t=!1},d(n){me(e,n)}}}function Ul(l){let e,t,n,s;const c=[Ll,Gl,Tl,Rl,Pl],i=[];function u(f,d){return f[0]==="fresh"?0:f[0]==="binding"?1:f[0]==="locked"?2:f[0]==="unlocked"?3:4}return t=u(l),n=i[t]=c[t](l),{c(){e=a("main"),n.c(),r(e,"class","svelte-k68acu")},m(f,d){S(f,e,d),i[t].m(e,null),s=!0},p(f,[d]){let p=t;t=u(f),t!==p&&(Ve(),ce(i[p],1,1,()=>{i[p]=null}),ze(),n=i[t],n||(n=i[t]=c[t](f),n.c()),ie(n,1),n.m(e,null))},i(f){s||(ie(n),s=!0)},o(f){ce(n),s=!1},d(f){f&&E(e),i[t].d()}}}function Vl(l,e,t){let n;return re(l,fe,s=>t(0,n=s)),je(async()=>{const s=await Kt();fe.set(s)}),[n]}class zl extends Ce{constructor(e){super(),ye(this,e,Vl,Ul,de,{})}}new zl({target:document.getElementById("app")});
