(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function Z(){}function ht(l){return l()}function Ke(){return Object.create(null)}function se(l){l.forEach(ht)}function wt(l){return typeof l=="function"}function de(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function At(l){return Object.keys(l).length===0}function Mt(l,...e){if(l==null)return Z;const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function re(l,e,t){l.$$.on_destroy.push(Mt(e,t))}function o(l,e){l.appendChild(e)}function z(l,e,t){l.insertBefore(e,t||null)}function S(l){l.parentNode&&l.parentNode.removeChild(l)}function Ae(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function u(l){return document.createElement(l)}function F(l){return document.createTextNode(l)}function k(){return F(" ")}function Ie(){return F("")}function D(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function Me(l){return function(e){return e.stopPropagation(),l.call(this,e)}}function c(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function Dt(l){return Array.from(l.childNodes)}function $(l,e){e=""+e,l.data!==e&&(l.data=e)}function we(l,e){l.value=e==null?"":e}function ae(l,e,t){l.classList[t?"add":"remove"](e)}let je;function Se(l){je=l}function gt(){if(!je)throw new Error("Function called outside component initialization");return je}function De(l){gt().$$.on_mount.push(l)}function Oe(l){gt().$$.on_destroy.push(l)}function ze(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const be=[],Ve=[];let he=[];const We=[],Et=Promise.resolve();let Le=!1;function Ft(){Le||(Le=!0,Et.then(yt))}function Re(l){he.push(l)}const Be=new Set;let ve=0;function yt(){if(ve!==0)return;const l=je;do{try{for(;ve<be.length;){const e=be[ve];ve++,Se(e),Nt(e.$$)}}catch(e){throw be.length=0,ve=0,e}for(Se(null),be.length=0,ve=0;Ve.length;)Ve.pop()();for(let e=0;e<he.length;e+=1){const t=he[e];Be.has(t)||(Be.add(t),t())}he.length=0}while(be.length);for(;We.length;)We.pop()();Le=!1,Be.clear(),Se(l)}function Nt(l){if(l.fragment!==null){l.update(),se(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(Re)}}function Pt(l){const e=[],t=[];he.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),he=e}const Fe=new Set;let ue;function Ge(){ue={r:0,c:[],p:ue}}function $e(){ue.r||se(ue.c),ue=ue.p}function ie(l,e){l&&l.i&&(Fe.delete(l),l.i(e))}function ce(l,e,t,n){if(l&&l.o){if(Fe.has(l))return;Fe.add(l),ue.c.push(()=>{Fe.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function ge(l){l&&l.c()}function pe(l,e,t,n){const{fragment:s,after_update:r}=l.$$;s&&s.m(e,t),n||Re(()=>{const i=l.$$.on_mount.map(ht).filter(wt);l.$$.on_destroy?l.$$.on_destroy.push(...i):se(i),l.$$.on_mount=[]}),r.forEach(Re)}function _e(l,e){const t=l.$$;t.fragment!==null&&(Pt(t.after_update),se(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function It(l,e){l.$$.dirty[0]===-1&&(be.push(l),Ft(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function ye(l,e,t,n,s,r,i,a=[-1]){const f=je;Se(l);const d=l.$$={fragment:null,ctx:[],props:r,update:Z,not_equal:s,bound:Ke(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Ke(),dirty:a,skip_bound:!1,root:e.target||f.$$.root};i&&i(d.root);let p=!1;if(d.ctx=t?t(l,e.props||{},(_,w,...b)=>{const h=b.length?b[0]:w;return d.ctx&&s(d.ctx[_],d.ctx[_]=h)&&(!d.skip_bound&&d.bound[_]&&d.bound[_](h),p&&It(l,_)),w}):[],d.update(),p=!0,se(d.before_update),d.fragment=n?n(d.ctx):!1,e.target){if(e.hydrate){const _=Dt(e.target);d.fragment&&d.fragment.l(_),_.forEach(S)}else d.fragment&&d.fragment.c();e.intro&&ie(l.$$.fragment),pe(l,e.target,e.anchor,e.customElement),yt()}Se(f)}class Ce{$destroy(){_e(this,1),this.$destroy=Z}$on(e,t){if(!wt(t))return Z;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!At(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Ot(l){return window.go.main.App.AddFile(l)}function Bt(l){return window.go.main.App.BindPeerWithPhrase(l)}function Lt(){return window.go.main.App.CancelBinding()}function Rt(l,e){return window.go.main.App.CreateFolder(l,e)}function Gt(){return window.go.main.App.CreateNewVault()}function $t(l,e){return window.go.main.App.DeleteFile(l,e)}function Tt(l){return window.go.main.App.DeleteFolder(l)}function Ut(l,e){return window.go.main.App.ExportFile(l,e)}function Kt(){return window.go.main.App.GetAppState()}function Vt(l){return window.go.main.App.GetFolderPath(l)}function Wt(){return window.go.main.App.GetNodeID()}function Ct(){return window.go.main.App.GetPeers()}function Ht(){return window.go.main.App.GetStorageStats()}function qt(){return window.go.main.App.GetSyncPhrase()}function St(){return window.go.main.App.IsMaster()}function Yt(l){return window.go.main.App.ListFolder(l)}function Jt(l){return window.go.main.App.RemovePeer(l)}function Qt(){return window.go.main.App.StartReplicaBinding()}function Xt(l){return window.go.main.App.UnlockWithMnemonic(l)}const ke=[];function me(l,e=Z){let t;const n=new Set;function s(a){if(de(l,a)&&(l=a,t)){const f=!ke.length;for(const d of n)d[1](),ke.push(d,l);if(f){for(let d=0;d<ke.length;d+=2)ke[d][0](ke[d+1]);ke.length=0}}}function r(a){s(a(l))}function i(a,f=Z){const d=[a,f];return n.add(d),n.size===1&&(t=e(s)||Z),a(l),()=>{n.delete(d),n.size===0&&t&&(t(),t=null)}}return{set:s,update:r,subscribe:i}}const fe=me("fresh"),Ee=me(0),Te=me(!1),X=me(!1),te=me(""),Ue=me(""),Ne=me(!1);function He(l){let e,t;return{c(){e=u("p"),t=F(l[1]),c(e,"class","error svelte-1na3fmb")},m(n,s){z(n,e,s),o(e,t)},p(n,s){s&2&&$(t,n[1])},d(n){n&&S(e)}}}function Zt(l){let e,t,n,s,r,i,a,f,d,p,_,w,b,h,A,g,C=l[1]&&He(l);return{c(){e=u("div"),t=u("h1"),t.textContent="Endershare",n=k(),s=u("p"),s.textContent="Encrypted P2P File Storage",r=k(),i=u("div"),a=u("button"),f=F(`Create New Vault
      `),d=u("span"),d.textContent="Generate a new encryption key",p=k(),_=u("button"),w=F(`Join Existing Vault
      `),b=u("span"),b.textContent="Connect to another device",h=k(),C&&C.c(),c(t,"class","svelte-1na3fmb"),c(s,"class","subtitle svelte-1na3fmb"),c(d,"class","btn-desc svelte-1na3fmb"),c(a,"class","setup-btn primary svelte-1na3fmb"),a.disabled=l[0],c(b,"class","btn-desc svelte-1na3fmb"),c(_,"class","setup-btn secondary svelte-1na3fmb"),_.disabled=l[0],c(i,"class","setup-options svelte-1na3fmb"),c(e,"class","setup-screen svelte-1na3fmb")},m(j,M){z(j,e,M),o(e,t),o(e,n),o(e,s),o(e,r),o(e,i),o(i,a),o(a,f),o(a,d),o(i,p),o(i,_),o(_,w),o(_,b),o(e,h),C&&C.m(e,null),A||(g=[D(a,"click",l[2]),D(_,"click",l[3])],A=!0)},p(j,[M]){M&1&&(a.disabled=j[0]),M&1&&(_.disabled=j[0]),j[1]?C?C.p(j,M):(C=He(j),C.c(),C.m(e,null)):C&&(C.d(1),C=null)},i:Z,o:Z,d(j){j&&S(e),C&&C.d(),A=!1,se(g)}}}function xt(l,e,t){let n,s;re(l,X,a=>t(0,n=a)),re(l,te,a=>t(1,s=a));async function r(){X.set(!0),te.set("");try{const a=await Gt();Ue.set(a),fe.set("unlocked")}catch(a){te.set(String(a))}finally{X.set(!1)}}async function i(){X.set(!0),te.set("");try{await Qt(),fe.set("binding")}catch(a){te.set(String(a))}finally{X.set(!1)}}return[n,s,r,i]}class el extends Ce{constructor(e){super(),ye(this,e,xt,Zt,de,{})}}function tl(l,e,t){return window.runtime.EventsOnMultiple(l,e,t)}function jt(l,e){return tl(l,e,-1)}function ll(l){let e,t,n,s,r,i,a=(l[0]||"Loading...")+"",f,d,p,_,w,b,h,A,g,C;return{c(){e=u("div"),t=u("h1"),t.textContent="Waiting for Authorization",n=k(),s=u("p"),s.textContent="Enter this phrase on your master device to authorize this replica:",r=k(),i=u("div"),f=F(a),d=k(),p=u("div"),_=k(),w=u("p"),w.textContent="Waiting for master node to connect...",b=k(),h=u("button"),A=F("Cancel"),c(t,"class","svelte-yhfyra"),c(s,"class","instruction svelte-yhfyra"),c(i,"class","phrase-display svelte-yhfyra"),c(p,"class","spinner svelte-yhfyra"),c(w,"class","waiting-text svelte-yhfyra"),c(h,"class","cancel-btn svelte-yhfyra"),h.disabled=l[1],c(e,"class","binding-screen svelte-yhfyra")},m(j,M){z(j,e,M),o(e,t),o(e,n),o(e,s),o(e,r),o(e,i),o(i,f),o(e,d),o(e,p),o(e,_),o(e,w),o(e,b),o(e,h),o(h,A),g||(C=D(h,"click",l[2]),g=!0)},p(j,[M]){M&1&&a!==(a=(j[0]||"Loading...")+"")&&$(f,a),M&2&&(h.disabled=j[1])},i:Z,o:Z,d(j){j&&S(e),g=!1,C()}}}function nl(l,e,t){let n;re(l,X,a=>t(1,n=a));let s="",r;De(async()=>{t(0,s=await qt()),r=jt("binding-complete",()=>{fe.set("locked")})}),Oe(()=>{r&&r()});async function i(){X.set(!0),await Lt(),fe.set("fresh"),X.set(!1)}return[s,n,i]}class sl extends Ce{constructor(e){super(),ye(this,e,nl,ll,de,{})}}function qe(l,e,t){const n=l.slice();return n[19]=e[t],n}function Ye(l,e,t){const n=l.slice();return n[19]=e[t],n}function il(l){let e,t,n,s,r,i,a,f,d,p,_,w=l[2].entryCount+"",b,h,A,g,C,j,M=Pe(l[2].totalSize)+"",N,R,E,T,y,x,le=l[1].filter(tt).length+"",I,L,U=l[1].length+"",B,V,P,O,K,W,q,ee,Y,v=l[3]&&Je(l);function m(H,J){return H[1].length===0?cl:rl}let G=m(l),ne=G(l);return{c(){e=u("div"),t=u("div"),n=u("div"),s=u("h2"),s.textContent="Node Dashboard",r=k(),i=u("button"),i.textContent="\u2715",a=k(),v&&v.c(),f=k(),d=u("div"),p=u("div"),_=u("span"),b=F(w),h=k(),A=u("span"),A.textContent="Entries",g=k(),C=u("div"),j=u("span"),N=F(M),R=k(),E=u("span"),E.textContent="Total Size",T=k(),y=u("div"),x=u("span"),I=F(le),L=F("/"),B=F(U),V=k(),P=u("span"),P.textContent="Peers Online",O=k(),K=u("div"),W=u("h3"),W.textContent="Connected Devices",q=k(),ne.c(),c(s,"class","svelte-pkosla"),c(i,"class","close-btn svelte-pkosla"),c(n,"class","modal-header svelte-pkosla"),c(_,"class","stat-value svelte-pkosla"),c(A,"class","stat-label svelte-pkosla"),c(p,"class","stat-card svelte-pkosla"),c(j,"class","stat-value svelte-pkosla"),c(E,"class","stat-label svelte-pkosla"),c(C,"class","stat-card svelte-pkosla"),c(x,"class","stat-value svelte-pkosla"),c(P,"class","stat-label svelte-pkosla"),c(y,"class","stat-card svelte-pkosla"),c(d,"class","stats-row svelte-pkosla"),c(W,"class","svelte-pkosla"),c(K,"class","section svelte-pkosla"),c(t,"class","modal svelte-pkosla"),c(e,"class","modal-overlay svelte-pkosla")},m(H,J){z(H,e,J),o(e,t),o(t,n),o(n,s),o(n,r),o(n,i),o(t,a),v&&v.m(t,null),o(t,f),o(t,d),o(d,p),o(p,_),o(_,b),o(p,h),o(p,A),o(d,g),o(d,C),o(C,j),o(j,N),o(C,R),o(C,E),o(d,T),o(d,y),o(y,x),o(x,I),o(x,L),o(x,B),o(y,V),o(y,P),o(t,O),o(t,K),o(K,W),o(K,q),ne.m(K,null),ee||(Y=[D(i,"click",l[10]),D(t,"click",Me(l[12])),D(e,"click",l[10])],ee=!0)},p(H,J){H[3]?v?v.p(H,J):(v=Je(H),v.c(),v.m(t,f)):v&&(v.d(1),v=null),J&4&&w!==(w=H[2].entryCount+"")&&$(b,w),J&4&&M!==(M=Pe(H[2].totalSize)+"")&&$(N,M),J&2&&le!==(le=H[1].filter(tt).length+"")&&$(I,le),J&2&&U!==(U=H[1].length+"")&&$(B,U),G===(G=m(H))&&ne?ne.p(H,J):(ne.d(1),ne=G(H),ne&&(ne.c(),ne.m(K,null)))},d(H){H&&S(e),v&&v.d(),ne.d(),ee=!1,se(Y)}}}function ol(l){let e,t,n,s,r,i,a,f,d,p,_=l[2].entryCount+"",w,b,h,A,g,C,j=Pe(l[2].totalSize)+"",M,N,R,E,T,y,x=l[1].filter(et).length+"",le,I,L=l[1].length+"",U,B,V,P,O,K,W,q;function ee(Q,oe){return Q[4]?ul:al}let Y=ee(l),v=Y(l),m=l[3]&&Xe(l);function G(Q,oe){return Q[1].length===0?dl:fl}let ne=G(l),H=ne(l),J=l[7]&&xe(l);return{c(){e=u("div"),t=u("div"),n=u("h2"),n.textContent="Node Dashboard",s=k(),v.c(),r=k(),i=u("div"),m&&m.c(),a=k(),f=u("div"),d=u("div"),p=u("span"),w=F(_),b=k(),h=u("span"),h.textContent="Entries",A=k(),g=u("div"),C=u("span"),M=F(j),N=k(),R=u("span"),R.textContent="Total Size",E=k(),T=u("div"),y=u("span"),le=F(x),I=F("/"),U=F(L),B=k(),V=u("span"),V.textContent="Peers Online",P=k(),O=u("div"),K=u("h3"),K.textContent="Connected Devices",W=k(),H.c(),q=k(),J&&J.c(),c(n,"class","svelte-pkosla"),c(t,"class","top-bar svelte-pkosla"),c(p,"class","stat-value svelte-pkosla"),c(h,"class","stat-label svelte-pkosla"),c(d,"class","stat-card svelte-pkosla"),c(C,"class","stat-value svelte-pkosla"),c(R,"class","stat-label svelte-pkosla"),c(g,"class","stat-card svelte-pkosla"),c(y,"class","stat-value svelte-pkosla"),c(V,"class","stat-label svelte-pkosla"),c(T,"class","stat-card svelte-pkosla"),c(f,"class","stats-row svelte-pkosla"),c(K,"class","svelte-pkosla"),c(O,"class","section svelte-pkosla"),c(i,"class","dashboard-content svelte-pkosla"),c(e,"class","dashboard-page svelte-pkosla")},m(Q,oe){z(Q,e,oe),o(e,t),o(t,n),o(t,s),v.m(t,null),o(e,r),o(e,i),m&&m.m(i,null),o(i,a),o(i,f),o(f,d),o(d,p),o(p,w),o(d,b),o(d,h),o(f,A),o(f,g),o(g,C),o(C,M),o(g,N),o(g,R),o(f,E),o(f,T),o(T,y),o(y,le),o(y,I),o(y,U),o(T,B),o(T,V),o(i,P),o(i,O),o(O,K),o(O,W),H.m(O,null),o(e,q),J&&J.m(e,null)},p(Q,oe){Y===(Y=ee(Q))&&v?v.p(Q,oe):(v.d(1),v=Y(Q),v&&(v.c(),v.m(t,null))),Q[3]?m?m.p(Q,oe):(m=Xe(Q),m.c(),m.m(i,a)):m&&(m.d(1),m=null),oe&4&&_!==(_=Q[2].entryCount+"")&&$(w,_),oe&4&&j!==(j=Pe(Q[2].totalSize)+"")&&$(M,j),oe&2&&x!==(x=Q[1].filter(et).length+"")&&$(le,x),oe&2&&L!==(L=Q[1].length+"")&&$(U,L),ne===(ne=G(Q))&&H?H.p(Q,oe):(H.d(1),H=ne(Q),H&&(H.c(),H.m(O,null))),Q[7]?J?J.p(Q,oe):(J=xe(Q),J.c(),J.m(e,null)):J&&(J.d(1),J=null)},d(Q){Q&&S(e),v.d(),m&&m.d(),H.d(),J&&J.d()}}}function Je(l){let e,t,n,s,r;return{c(){e=u("div"),t=u("span"),t.textContent="Node ID",n=k(),s=u("span"),r=F(l[3]),c(t,"class","node-id-label svelte-pkosla"),c(s,"class","node-id-value svelte-pkosla"),c(e,"class","node-id-section svelte-pkosla")},m(i,a){z(i,e,a),o(e,t),o(e,n),o(e,s),o(s,r)},p(i,a){a&8&&$(r,i[3])},d(i){i&&S(e)}}}function rl(l){let e,t=l[1],n=[];for(let s=0;s<t.length;s+=1)n[s]=Qe(qe(l,t,s));return{c(){e=u("div");for(let s=0;s<n.length;s+=1)n[s].c();c(e,"class","peer-list svelte-pkosla")},m(s,r){z(s,e,r);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,r){if(r&2){t=s[1];let i;for(i=0;i<t.length;i+=1){const a=qe(s,t,i);n[i]?n[i].p(a,r):(n[i]=Qe(a),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(s){s&&S(e),Ae(n,s)}}}function cl(l){let e;return{c(){e=u("p"),e.textContent="No connected devices",c(e,"class","empty svelte-pkosla")},m(t,n){z(t,e,n)},p:Z,d(t){t&&S(e)}}}function Qe(l){let e,t,n,s,r,i=l[19].peerId+"",a,f,d,p=(l[19].isOnline?"Online":l[19].lastSeen)+"",_,w;return{c(){e=u("div"),t=u("div"),n=u("span"),s=k(),r=u("span"),a=F(i),f=k(),d=u("span"),_=F(p),w=k(),c(n,"class","status-dot svelte-pkosla"),ae(n,"online",l[19].isOnline),c(r,"class","peer-id svelte-pkosla"),c(t,"class","peer-info svelte-pkosla"),c(d,"class","last-seen svelte-pkosla"),c(e,"class","peer-item svelte-pkosla")},m(b,h){z(b,e,h),o(e,t),o(t,n),o(t,s),o(t,r),o(r,a),o(e,f),o(e,d),o(d,_),o(e,w)},p(b,h){h&2&&ae(n,"online",b[19].isOnline),h&2&&i!==(i=b[19].peerId+"")&&$(a,i),h&2&&p!==(p=(b[19].isOnline?"Online":b[19].lastSeen)+"")&&$(_,p)},d(b){b&&S(e)}}}function al(l){let e,t,n;return{c(){e=u("button"),e.textContent="Unlock Vault",c(e,"class","unlock-btn svelte-pkosla")},m(s,r){z(s,e,r),t||(n=D(e,"click",l[15]),t=!0)},p:Z,d(s){s&&S(e),t=!1,n()}}}function ul(l){let e,t,n,s,r=l[6]?"Unlocking...":"Unlock",i,a,f,d,p,_;return{c(){e=u("div"),t=u("input"),n=k(),s=u("button"),i=F(r),f=k(),d=u("button"),d.textContent="Cancel",c(t,"type","password"),c(t,"class","mnemonic-input svelte-pkosla"),c(t,"placeholder","Enter 24-word recovery phrase..."),t.disabled=l[6],t.autofocus=!0,c(s,"class","unlock-btn svelte-pkosla"),s.disabled=a=l[6]||!l[5].trim(),c(d,"class","cancel-btn svelte-pkosla"),c(e,"class","unlock-row svelte-pkosla")},m(w,b){z(w,e,b),o(e,t),we(t,l[5]),o(e,n),o(e,s),o(s,i),o(e,f),o(e,d),t.focus(),p||(_=[D(t,"input",l[13]),D(t,"keydown",l[9]),D(s,"click",l[8]),D(d,"click",l[14])],p=!0)},p(w,b){b&64&&(t.disabled=w[6]),b&32&&t.value!==w[5]&&we(t,w[5]),b&64&&r!==(r=w[6]?"Unlocking...":"Unlock")&&$(i,r),b&96&&a!==(a=w[6]||!w[5].trim())&&(s.disabled=a)},d(w){w&&S(e),p=!1,se(_)}}}function Xe(l){let e,t,n,s,r;return{c(){e=u("div"),t=u("span"),t.textContent="Node ID",n=k(),s=u("span"),r=F(l[3]),c(t,"class","node-id-label svelte-pkosla"),c(s,"class","node-id-value svelte-pkosla"),c(e,"class","node-id-section svelte-pkosla")},m(i,a){z(i,e,a),o(e,t),o(e,n),o(e,s),o(s,r)},p(i,a){a&8&&$(r,i[3])},d(i){i&&S(e)}}}function fl(l){let e,t=l[1],n=[];for(let s=0;s<t.length;s+=1)n[s]=Ze(Ye(l,t,s));return{c(){e=u("div");for(let s=0;s<n.length;s+=1)n[s].c();c(e,"class","peer-list svelte-pkosla")},m(s,r){z(s,e,r);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,r){if(r&2){t=s[1];let i;for(i=0;i<t.length;i+=1){const a=Ye(s,t,i);n[i]?n[i].p(a,r):(n[i]=Ze(a),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(s){s&&S(e),Ae(n,s)}}}function dl(l){let e;return{c(){e=u("p"),e.textContent="No connected devices",c(e,"class","empty svelte-pkosla")},m(t,n){z(t,e,n)},p:Z,d(t){t&&S(e)}}}function Ze(l){let e,t,n,s,r,i=l[19].peerId+"",a,f,d,p=(l[19].isOnline?"Online":l[19].lastSeen)+"",_,w;return{c(){e=u("div"),t=u("div"),n=u("span"),s=k(),r=u("span"),a=F(i),f=k(),d=u("span"),_=F(p),w=k(),c(n,"class","status-dot svelte-pkosla"),ae(n,"online",l[19].isOnline),c(r,"class","peer-id svelte-pkosla"),c(t,"class","peer-info svelte-pkosla"),c(d,"class","last-seen svelte-pkosla"),c(e,"class","peer-item svelte-pkosla")},m(b,h){z(b,e,h),o(e,t),o(t,n),o(t,s),o(t,r),o(r,a),o(e,f),o(e,d),o(d,_),o(e,w)},p(b,h){h&2&&ae(n,"online",b[19].isOnline),h&2&&i!==(i=b[19].peerId+"")&&$(a,i),h&2&&p!==(p=(b[19].isOnline?"Online":b[19].lastSeen)+"")&&$(_,p)},d(b){b&&S(e)}}}function xe(l){let e,t,n,s,r,i;return{c(){e=u("div"),t=F(l[7]),n=k(),s=u("button"),s.textContent="\u2715",c(s,"class","svelte-pkosla"),c(e,"class","error-bar svelte-pkosla")},m(a,f){z(a,e,f),o(e,t),o(e,n),o(e,s),r||(i=D(s,"click",l[16]),r=!0)},p(a,f){f&128&&$(t,a[7])},d(a){a&&S(e),r=!1,i()}}}function pl(l){let e,t,n;function s(a,f){return a[0]?ol:il}let r=s(l),i=r(l);return{c(){i.c(),e=Ie()},m(a,f){i.m(a,f),z(a,e,f),t||(n=D(window,"keydown",l[11]),t=!0)},p(a,[f]){r===(r=s(a))&&i?i.p(a,f):(i.d(1),i=r(a),i&&(i.c(),i.m(e.parentNode,e)))},i:Z,o:Z,d(a){i.d(a),a&&S(e),t=!1,n()}}}function Pe(l){if(l===0)return"0 B";const e=["B","KB","MB","GB","TB"],t=Math.floor(Math.log(l)/Math.log(1024));return(l/Math.pow(1024,t)).toFixed(1)+" "+e[t]}const et=l=>l.isOnline,tt=l=>l.isOnline;function _l(l,e,t){let n,s;re(l,X,E=>t(6,n=E)),re(l,te,E=>t(7,s=E));let{fullPage:r=!1}=e,i=[],a={entryCount:0,totalSize:0},f="",d=!1,p="",_;De(()=>{w(),_=setInterval(w,5e3)}),Oe(()=>{clearInterval(_)});async function w(){try{const[E,T,y]=await Promise.all([Ct(),Ht(),Wt()]);t(1,i=E),t(2,a=T),t(3,f=y)}catch(E){te.set(String(E))}}async function b(){if(!p.trim()){te.set("Please enter your recovery phrase");return}X.set(!0),te.set("");try{await Xt(p.trim()),fe.set("unlocked"),Ne.set(!1)}catch(E){te.set(String(E))}finally{X.set(!1)}}function h(E){E.key==="Enter"&&b(),E.key==="Escape"&&(t(4,d=!1),t(5,p=""),te.set(""))}function A(){Ne.set(!1)}function g(E){E.key==="Escape"&&!r&&A()}function C(E){ze.call(this,l,E)}function j(){p=this.value,t(5,p)}const M=()=>{t(4,d=!1),t(5,p=""),te.set("")},N=()=>t(4,d=!0),R=()=>te.set("");return l.$$set=E=>{"fullPage"in E&&t(0,r=E.fullPage)},[r,i,a,f,d,p,n,s,b,h,A,g,C,j,M,N,R]}class zt extends Ce{constructor(e){super(),ye(this,e,_l,pl,de,{fullPage:0})}}function lt(l,e,t){const n=l.slice();return n[21]=e[t],n}function ml(l){let e,t=l[0],n=[];for(let s=0;s<t.length;s+=1)n[s]=nt(lt(l,t,s));return{c(){e=u("div");for(let s=0;s<n.length;s+=1)n[s].c();c(e,"class","peer-list svelte-16cmzd")},m(s,r){z(s,e,r);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,r){if(r&129){t=s[0];let i;for(i=0;i<t.length;i+=1){const a=lt(s,t,i);n[i]?n[i].p(a,r):(n[i]=nt(a),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(s){s&&S(e),Ae(n,s)}}}function vl(l){let e;return{c(){e=u("p"),e.textContent="No connected devices",c(e,"class","empty svelte-16cmzd")},m(t,n){z(t,e,n)},p:Z,d(t){t&&S(e)}}}function nt(l){let e,t,n,s,r,i=l[21].peerId+"",a,f,d,p,_=(l[21].isOnline?"Online":l[21].lastSeen)+"",w,b,h,A,g,C;function j(){return l[15](l[21])}return{c(){e=u("div"),t=u("div"),n=u("span"),s=k(),r=u("span"),a=F(i),f=k(),d=u("div"),p=u("span"),w=F(_),b=k(),h=u("button"),h.textContent="\u2715",A=k(),c(n,"class","status-dot svelte-16cmzd"),ae(n,"online",l[21].isOnline),c(r,"class","peer-id svelte-16cmzd"),c(t,"class","peer-info svelte-16cmzd"),c(p,"class","last-seen svelte-16cmzd"),c(h,"class","remove-btn svelte-16cmzd"),c(h,"title","Remove device"),c(d,"class","peer-meta svelte-16cmzd"),c(e,"class","peer-item svelte-16cmzd")},m(M,N){z(M,e,N),o(e,t),o(t,n),o(t,s),o(t,r),o(r,a),o(e,f),o(e,d),o(d,p),o(p,w),o(d,b),o(d,h),o(e,A),g||(C=D(h,"click",j),g=!0)},p(M,N){l=M,N&1&&ae(n,"online",l[21].isOnline),N&1&&i!==(i=l[21].peerId+"")&&$(a,i),N&1&&_!==(_=(l[21].isOnline?"Online":l[21].lastSeen)+"")&&$(w,_)},d(M){M&&S(e),g=!1,C()}}}function st(l){let e;function t(r,i){return r[3]?bl:kl}let n=t(l),s=n(l);return{c(){e=u("div"),s.c(),c(e,"class","add-device-section svelte-16cmzd")},m(r,i){z(r,e,i),s.m(e,null)},p(r,i){n===(n=t(r))&&s?s.p(r,i):(s.d(1),s=n(r),s&&(s.c(),s.m(e,null)))},d(r){r&&S(e),s.d()}}}function kl(l){let e,t,n;return{c(){e=u("button"),e.textContent="+ Add New Device",c(e,"class","add-device-btn svelte-16cmzd")},m(s,r){z(s,e,r),t||(n=D(e,"click",l[18]),t=!0)},p:Z,d(s){s&&S(e),t=!1,n()}}}function bl(l){let e,t,n,s,r,i,a,f,d;return{c(){e=u("div"),t=u("input"),n=k(),s=u("button"),r=F("Bind"),i=k(),a=u("button"),a.textContent="Cancel",c(t,"type","text"),c(t,"class","bind-input svelte-16cmzd"),c(t,"placeholder","Enter 4-word phrase..."),t.autofocus=!0,c(s,"class","action-btn svelte-16cmzd"),s.disabled=l[6],c(a,"class","action-btn secondary svelte-16cmzd"),c(e,"class","bind-input-row svelte-16cmzd")},m(p,_){z(p,e,_),o(e,t),we(t,l[2]),o(e,n),o(e,s),o(s,r),o(e,i),o(e,a),t.focus(),f||(d=[D(t,"input",l[16]),D(s,"click",l[10]),D(a,"click",l[17])],f=!0)},p(p,_){_&4&&t.value!==p[2]&&we(t,p[2]),_&64&&(s.disabled=p[6])},d(p){p&&S(e),f=!1,se(d)}}}function it(l){let e;return{c(){e=u("p"),e.textContent="Replica nodes sync data but cannot decrypt files without the recovery phrase.",c(e,"class","replica-note svelte-16cmzd")},m(t,n){z(t,e,n)},d(t){t&&S(e)}}}function ot(l){let e,t,n,s,r,i,a,f,d,p,_,w,b,h,A;return{c(){e=u("div"),t=u("div"),n=u("h3"),n.textContent="Remove Device",s=k(),r=u("p"),i=F("Are you sure you want to remove device "),a=F(l[5]),f=F("?"),d=k(),p=u("div"),_=u("button"),_.textContent="Cancel",w=k(),b=u("button"),b.textContent="Remove",c(n,"class","svelte-16cmzd"),c(r,"class","svelte-16cmzd"),c(_,"class","cancel-btn svelte-16cmzd"),c(b,"class","remove-confirm-btn svelte-16cmzd"),c(p,"class","confirm-buttons svelte-16cmzd"),c(t,"class","confirm-modal svelte-16cmzd"),c(t,"role","document"),c(e,"class","confirm-overlay svelte-16cmzd"),c(e,"role","dialog"),c(e,"aria-modal","true")},m(g,C){z(g,e,C),o(e,t),o(t,n),o(t,s),o(t,r),o(r,i),o(r,a),o(r,f),o(t,d),o(t,p),o(p,_),o(p,w),o(p,b),h||(A=[D(_,"click",l[8]),D(b,"click",l[9]),D(t,"click",Me(l[13])),D(e,"click",l[8])],h=!0)},p(g,C){C&32&&$(a,g[5])},d(g){g&&S(e),h=!1,se(A)}}}function hl(l){let e,t,n,s,r,i,a,f,d,p,_,w,b,h,A,g,C,j,M=l[1]?"Master":"Replica",N,R,E,T,y,x;function le(P,O){return P[0].length===0?vl:ml}let I=le(l),L=I(l),U=l[1]&&st(l),B=!l[1]&&it(),V=l[4]&&l[5]&&ot(l);return{c(){e=u("div"),t=u("div"),n=u("div"),s=u("h2"),s.textContent="Settings",r=k(),i=u("button"),i.textContent="\u2715",a=k(),f=u("div"),d=u("h3"),d.textContent="Connected Devices",p=k(),L.c(),_=k(),U&&U.c(),w=k(),b=u("div"),h=u("h3"),h.textContent="Node Info",A=k(),g=u("p"),C=F("Node type: "),j=u("strong"),N=F(M),R=k(),B&&B.c(),E=k(),V&&V.c(),T=Ie(),c(s,"class","svelte-16cmzd"),c(i,"class","close-btn svelte-16cmzd"),c(n,"class","modal-header svelte-16cmzd"),c(d,"class","svelte-16cmzd"),c(f,"class","section svelte-16cmzd"),c(h,"class","svelte-16cmzd"),c(g,"class","node-type svelte-16cmzd"),c(b,"class","section svelte-16cmzd"),c(t,"class","modal svelte-16cmzd"),c(e,"class","modal-overlay svelte-16cmzd")},m(P,O){z(P,e,O),o(e,t),o(t,n),o(n,s),o(n,r),o(n,i),o(t,a),o(t,f),o(f,d),o(f,p),L.m(f,null),o(f,_),U&&U.m(f,null),o(t,w),o(t,b),o(b,h),o(b,A),o(b,g),o(g,C),o(g,j),o(j,N),o(b,R),B&&B.m(b,null),z(P,E,O),V&&V.m(P,O),z(P,T,O),y||(x=[D(window,"keydown",l[12]),D(i,"click",l[11]),D(t,"click",Me(l[14])),D(e,"click",l[11])],y=!0)},p(P,[O]){I===(I=le(P))&&L?L.p(P,O):(L.d(1),L=I(P),L&&(L.c(),L.m(f,_))),P[1]?U?U.p(P,O):(U=st(P),U.c(),U.m(f,null)):U&&(U.d(1),U=null),O&2&&M!==(M=P[1]?"Master":"Replica")&&$(N,M),P[1]?B&&(B.d(1),B=null):B||(B=it(),B.c(),B.m(b,null)),P[4]&&P[5]?V?V.p(P,O):(V=ot(P),V.c(),V.m(T.parentNode,T)):V&&(V.d(1),V=null)},i:Z,o:Z,d(P){P&&S(e),L.d(),U&&U.d(),B&&B.d(),P&&S(E),V&&V.d(P),P&&S(T),y=!1,se(x)}}}function wl(l,e,t){let n;re(l,X,y=>t(6,n=y));let s=[],r=!1,i="",a=!1,f=!1,d=null,p;De(async()=>{await _(),t(1,r=await St()),p=setInterval(_,5e3)}),Oe(()=>{clearInterval(p)});async function _(){try{t(0,s=await Ct())}catch(y){te.set(String(y))}}function w(y){t(5,d=y),t(4,f=!0)}function b(){t(4,f=!1),t(5,d=null)}async function h(){if(!d)return;const y=d;t(4,f=!1),t(5,d=null),X.set(!0);try{await Jt(y),await _()}catch(x){te.set(String(x))}finally{X.set(!1)}}async function A(){if(!!i.trim()){X.set(!0);try{await Bt(i.trim()),t(2,i=""),t(3,a=!1),await _()}catch(y){te.set(String(y))}finally{X.set(!1)}}}function g(){Te.set(!1)}function C(y){y.key==="Escape"?g():y.key==="Enter"&&a&&A()}function j(y){ze.call(this,l,y)}function M(y){ze.call(this,l,y)}const N=y=>w(y.peerId);function R(){i=this.value,t(2,i)}return[s,r,i,a,f,d,n,w,b,h,A,g,C,j,M,N,R,()=>{t(3,a=!1),t(2,i="")},()=>t(3,a=!0)]}class gl extends Ce{constructor(e){super(),ye(this,e,wl,hl,de,{})}}function rt(l,e,t){const n=l.slice();return n[38]=e[t],n}function ct(l,e,t){const n=l.slice();return n[41]=e[t],n[43]=t,n}function yl(l){let e;return{c(){e=u("span"),e.textContent="/",c(e,"class","separator svelte-j2wk4r")},m(t,n){z(t,e,n)},d(t){t&&S(e)}}}function at(l){let e,t,n=l[41].name+"",s,r,i,a,f=l[43]>0&&yl();function d(){return l[25](l[41])}return{c(){f&&f.c(),e=k(),t=u("button"),s=F(n),r=k(),c(t,"class","path-segment svelte-j2wk4r"),ae(t,"current",l[43]===l[2].length-1)},m(p,_){f&&f.m(p,_),z(p,e,_),z(p,t,_),o(t,s),o(t,r),i||(a=D(t,"click",d),i=!0)},p(p,_){l=p,_[0]&4&&n!==(n=l[41].name+"")&&$(s,n),_[0]&4&&ae(t,"current",l[43]===l[2].length-1)},d(p){f&&f.d(p),p&&S(e),p&&S(t),i=!1,a()}}}function Cl(l){let e,t,n,s,r;return{c(){e=u("button"),e.innerHTML='<span class="icon svelte-j2wk4r">\u{1F4C1}</span> New Folder',t=k(),n=u("button"),n.innerHTML='<span class="icon svelte-j2wk4r">+</span> Add File',c(e,"class","action-btn svelte-j2wk4r"),c(n,"class","action-btn svelte-j2wk4r")},m(i,a){z(i,e,a),z(i,t,a),z(i,n,a),s||(r=[D(e,"click",l[28]),D(n,"click",l[15])],s=!0)},p:Z,d(i){i&&S(e),i&&S(t),i&&S(n),s=!1,se(r)}}}function Sl(l){let e,t,n,s,r,i,a;return{c(){e=u("input"),t=k(),n=u("button"),n.textContent="Create",s=k(),r=u("button"),r.textContent="Cancel",c(e,"type","text"),c(e,"class","folder-input svelte-j2wk4r"),c(e,"placeholder","Folder name..."),e.autofocus=!0,c(n,"class","action-btn svelte-j2wk4r"),c(r,"class","action-btn svelte-j2wk4r")},m(f,d){z(f,e,d),we(e,l[3]),z(f,t,d),z(f,n,d),z(f,s,d),z(f,r,d),e.focus(),i||(a=[D(e,"input",l[26]),D(e,"keydown",l[22]),D(n,"click",l[16]),D(r,"click",l[27])],i=!0)},p(f,d){d[0]&8&&e.value!==f[3]&&we(e,f[3])},d(f){f&&S(e),f&&S(t),f&&S(n),f&&S(s),f&&S(r),i=!1,se(a)}}}function jl(l){let e,t=l[1],n=[];for(let s=0;s<t.length;s+=1)n[s]=ft(rt(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Ie()},m(s,r){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(s,r);z(s,e,r)},p(s,r){if(r[0]&409602){t=s[1];let i;for(i=0;i<t.length;i+=1){const a=rt(s,t,i);n[i]?n[i].p(a,r):(n[i]=ft(a),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(s){Ae(n,s),s&&S(e)}}}function zl(l){let e;return{c(){e=u("div"),e.innerHTML=`<p>This folder is empty</p> 
        <p class="hint svelte-j2wk4r">Add files or create folders to get started</p>`,c(e,"class","empty-state svelte-j2wk4r")},m(t,n){z(t,e,n)},p:Z,d(t){t&&S(e)}}}function ut(l){let e,t,n;function s(){return l[31](l[38])}return{c(){e=u("button"),e.textContent="\u2193",c(e,"class","item-btn svelte-j2wk4r"),c(e,"title","Export")},m(r,i){z(r,e,i),t||(n=D(e,"click",s),t=!0)},p(r,i){l=r},d(r){r&&S(e),t=!1,n()}}}function ft(l){let e,t,n=l[38].type==="folder"?"\u{1F4C1}":"\u{1F4C4}",s,r,i,a=l[38].name+"",f,d,p,_=kt(l[38].size)+"",w,b,h,A=bt(l[38].modifiedAt)+"",g,C,j,M,N,R,E,T,y=l[38].type==="file"&&ut(l);function x(){return l[32](l[38])}function le(){return l[33](l[38])}return{c(){e=u("div"),t=u("span"),s=F(n),r=k(),i=u("span"),f=F(a),d=k(),p=u("span"),w=F(_),b=k(),h=u("span"),g=F(A),C=k(),j=u("div"),y&&y.c(),M=k(),N=u("button"),N.textContent="\u2715",R=k(),c(t,"class","item-icon svelte-j2wk4r"),c(i,"class","item-name svelte-j2wk4r"),c(p,"class","item-size svelte-j2wk4r"),c(h,"class","item-date svelte-j2wk4r"),c(N,"class","item-btn delete svelte-j2wk4r"),c(N,"title","Delete"),c(j,"class","item-actions svelte-j2wk4r"),c(e,"class","file-item svelte-j2wk4r"),ae(e,"folder",l[38].type==="folder")},m(I,L){z(I,e,L),o(e,t),o(t,s),o(e,r),o(e,i),o(i,f),o(e,d),o(e,p),o(p,w),o(e,b),o(e,h),o(h,g),o(e,C),o(e,j),y&&y.m(j,null),o(j,M),o(j,N),o(e,R),E||(T=[D(N,"click",x),D(e,"dblclick",le)],E=!0)},p(I,L){l=I,L[0]&2&&n!==(n=l[38].type==="folder"?"\u{1F4C1}":"\u{1F4C4}")&&$(s,n),L[0]&2&&a!==(a=l[38].name+"")&&$(f,a),L[0]&2&&_!==(_=kt(l[38].size)+"")&&$(w,_),L[0]&2&&A!==(A=bt(l[38].modifiedAt)+"")&&$(g,A),l[38].type==="file"?y?y.p(l,L):(y=ut(l),y.c(),y.m(j,M)):y&&(y.d(1),y=null),L[0]&2&&ae(e,"folder",l[38].type==="folder")},d(I){I&&S(e),y&&y.d(),E=!1,se(T)}}}function dt(l){let e,t,n,s,r,i;return{c(){e=u("div"),t=F(l[9]),n=k(),s=u("button"),s.textContent="\u2715",c(s,"class","svelte-j2wk4r"),c(e,"class","error-bar svelte-j2wk4r")},m(a,f){z(a,e,f),o(e,t),o(e,n),o(e,s),r||(i=D(s,"click",l[34]),r=!0)},p(a,f){f[0]&512&&$(t,a[9])},d(a){a&&S(e),r=!1,i()}}}function pt(l){let e,t;return e=new gl({}),{c(){ge(e.$$.fragment)},m(n,s){pe(e,n,s),t=!0},i(n){t||(ie(e.$$.fragment,n),t=!0)},o(n){ce(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function _t(l){let e,t;return e=new zt({}),{c(){ge(e.$$.fragment)},m(n,s){pe(e,n,s),t=!0},i(n){t||(ie(e.$$.fragment,n),t=!0)},o(n){ce(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function mt(l){let e,t,n,s,r=l[7].type==="folder"?"Folder":"File",i,a,f,d,p=l[7].name+"",_,w,b,h,A,g,C,j,M;return{c(){e=u("div"),t=u("div"),n=u("h2"),s=F("Delete "),i=F(r),a=k(),f=u("p"),d=F('Are you sure you want to delete "'),_=F(p),w=F('"?'),b=k(),h=u("div"),A=u("button"),A.textContent="Cancel",g=k(),C=u("button"),C.textContent="Delete",c(n,"class","svelte-j2wk4r"),c(f,"class","svelte-j2wk4r"),c(A,"class","cancel-btn svelte-j2wk4r"),c(C,"class","delete-btn svelte-j2wk4r"),c(h,"class","modal-buttons svelte-j2wk4r"),c(t,"class","modal confirm-modal svelte-j2wk4r"),c(t,"role","document"),c(e,"class","modal-overlay svelte-j2wk4r"),c(e,"role","dialog"),c(e,"aria-modal","true")},m(N,R){z(N,e,R),o(e,t),o(t,n),o(n,s),o(n,i),o(t,a),o(t,f),o(f,d),o(f,_),o(f,w),o(t,b),o(t,h),o(h,A),o(h,g),o(h,C),j||(M=[D(A,"click",l[19]),D(C,"click",l[20]),D(t,"click",Me(l[24])),D(e,"click",l[19])],j=!0)},p(N,R){R[0]&128&&r!==(r=N[7].type==="folder"?"Folder":"File")&&$(i,r),R[0]&128&&p!==(p=N[7].name+"")&&$(_,p)},d(N){N&&S(e),j=!1,se(M)}}}function vt(l){let e,t,n,s,r,i,a,f,d,p,_,w,b,h;return{c(){e=u("div"),t=u("div"),n=u("h2"),n.textContent="Save Your Recovery Phrase",s=k(),r=u("p"),r.textContent="Write down these words and keep them safe. You will need them to recover your vault.",i=k(),a=u("div"),f=F(l[8]),d=k(),p=u("p"),p.textContent="Anyone with this phrase can access your files. Never share it.",_=k(),w=u("button"),w.textContent="I've Saved My Phrase",c(n,"class","svelte-j2wk4r"),c(r,"class","warning svelte-j2wk4r"),c(a,"class","mnemonic-display svelte-j2wk4r"),c(p,"class","caution svelte-j2wk4r"),c(w,"class","primary-btn svelte-j2wk4r"),c(t,"class","modal svelte-j2wk4r"),c(e,"class","modal-overlay svelte-j2wk4r")},m(A,g){z(A,e,g),o(e,t),o(t,n),o(t,s),o(t,r),o(t,i),o(t,a),o(a,f),o(t,d),o(t,p),o(t,_),o(t,w),b||(h=[D(w,"click",l[21]),D(t,"click",Me(l[23])),D(e,"click",l[21])],b=!0)},p(A,g){g[0]&256&&$(f,A[8])},d(A){A&&S(e),b=!1,se(h)}}}function Al(l){let e,t,n,s,r,i,a,f,d,p,_,w,b,h,A,g,C,j,M,N,R,E,T,y,x,le=l[2],I=[];for(let v=0;v<le.length;v+=1)I[v]=at(ct(l,le,v));function L(v,m){return v[4]?Sl:Cl}let U=L(l),B=U(l);function V(v,m){return v[1].length===0?zl:jl}let P=V(l),O=P(l),K=l[9]&&dt(l),W=l[10]&&pt(),q=l[11]&&_t(),ee=l[6]&&l[7]&&mt(l),Y=l[5]&&vt(l);return{c(){e=u("div"),t=u("div"),n=u("div"),s=u("button"),r=u("span"),r.textContent="\u2191",a=k(),f=u("div");for(let v=0;v<I.length;v+=1)I[v].c();d=k(),p=u("div"),B.c(),_=k(),w=u("button"),w.textContent="Dashboard",b=k(),h=u("button"),h.innerHTML='<span class="icon svelte-j2wk4r">\u2699</span>',A=k(),g=u("div"),O.c(),C=k(),K&&K.c(),j=k(),W&&W.c(),M=k(),q&&q.c(),N=k(),ee&&ee.c(),R=k(),Y&&Y.c(),E=Ie(),c(r,"class","icon svelte-j2wk4r"),c(s,"class","nav-btn svelte-j2wk4r"),s.disabled=i=l[0]===0,c(f,"class","breadcrumb svelte-j2wk4r"),c(n,"class","path-section svelte-j2wk4r"),c(w,"class","action-btn svelte-j2wk4r"),c(w,"title","Node Dashboard"),c(h,"class","action-btn settings svelte-j2wk4r"),c(p,"class","actions svelte-j2wk4r"),c(t,"class","top-bar svelte-j2wk4r"),c(g,"class","file-list svelte-j2wk4r"),c(e,"class","file-browser svelte-j2wk4r")},m(v,m){z(v,e,m),o(e,t),o(t,n),o(n,s),o(s,r),o(n,a),o(n,f);for(let G=0;G<I.length;G+=1)I[G]&&I[G].m(f,null);o(t,d),o(t,p),B.m(p,null),o(p,_),o(p,w),o(p,b),o(p,h),o(e,A),o(e,g),O.m(g,null),o(e,C),K&&K.m(e,null),z(v,j,m),W&&W.m(v,m),z(v,M,m),q&&q.m(v,m),z(v,N,m),ee&&ee.m(v,m),z(v,R,m),Y&&Y.m(v,m),z(v,E,m),T=!0,y||(x=[D(s,"click",l[13]),D(w,"click",l[29]),D(h,"click",l[30])],y=!0)},p(v,m){if((!T||m[0]&1&&i!==(i=v[0]===0))&&(s.disabled=i),m[0]&4100){le=v[2];let G;for(G=0;G<le.length;G+=1){const ne=ct(v,le,G);I[G]?I[G].p(ne,m):(I[G]=at(ne),I[G].c(),I[G].m(f,null))}for(;G<I.length;G+=1)I[G].d(1);I.length=le.length}U===(U=L(v))&&B?B.p(v,m):(B.d(1),B=U(v),B&&(B.c(),B.m(p,_))),P===(P=V(v))&&O?O.p(v,m):(O.d(1),O=P(v),O&&(O.c(),O.m(g,null))),v[9]?K?K.p(v,m):(K=dt(v),K.c(),K.m(e,null)):K&&(K.d(1),K=null),v[10]?W?m[0]&1024&&ie(W,1):(W=pt(),W.c(),ie(W,1),W.m(M.parentNode,M)):W&&(Ge(),ce(W,1,1,()=>{W=null}),$e()),v[11]?q?m[0]&2048&&ie(q,1):(q=_t(),q.c(),ie(q,1),q.m(N.parentNode,N)):q&&(Ge(),ce(q,1,1,()=>{q=null}),$e()),v[6]&&v[7]?ee?ee.p(v,m):(ee=mt(v),ee.c(),ee.m(R.parentNode,R)):ee&&(ee.d(1),ee=null),v[5]?Y?Y.p(v,m):(Y=vt(v),Y.c(),Y.m(E.parentNode,E)):Y&&(Y.d(1),Y=null)},i(v){T||(ie(W),ie(q),T=!0)},o(v){ce(W),ce(q),T=!1},d(v){v&&S(e),Ae(I,v),B.d(),O.d(),K&&K.d(),v&&S(j),W&&W.d(v),v&&S(M),q&&q.d(v),v&&S(N),ee&&ee.d(v),v&&S(R),Y&&Y.d(v),v&&S(E),y=!1,se(x)}}}function kt(l){if(l===0)return"";const e=["B","KB","MB","GB"],t=Math.floor(Math.log(l)/Math.log(1024));return(l/Math.pow(1024,t)).toFixed(1)+" "+e[t]}function bt(l){return l?new Date(l).toLocaleDateString():""}function Ml(l,e,t){let n,s,r,i,a;re(l,Ee,m=>t(0,n=m)),re(l,Ue,m=>t(8,s=m)),re(l,te,m=>t(9,r=m)),re(l,Te,m=>t(10,i=m)),re(l,Ne,m=>t(11,a=m));let f=[],d=[],p="",_=!1,w=!1,b=!1,h=null,A=null;De(async()=>{await St(),s&&t(5,w=!0),A=jt("data-updated",()=>{g(n)})}),Oe(()=>{A&&A()});async function g(m){try{t(1,f=await Yt(m)),t(2,d=await Vt(m))}catch(G){te.set(String(G))}}function C(m){Ee.set(m)}function j(){if(d.length>1){const m=d[d.length-2];Ee.set(m.folderId)}}function M(m){m.type==="folder"&&Ee.set(m.folderId)}async function N(){X.set(!0);try{await Ot(n),await g(n)}catch(m){te.set(String(m))}finally{X.set(!1)}}async function R(){if(!!p.trim()){X.set(!0);try{await Rt(p.trim(),n),t(3,p=""),t(4,_=!1),await g(n)}catch(m){te.set(String(m))}finally{X.set(!1)}}}async function E(m){X.set(!0);try{await Ut(m.name,n)}catch(G){te.set(String(G))}finally{X.set(!1)}}function T(m){t(7,h=m),t(6,b=!0)}function y(){t(6,b=!1),t(7,h=null)}async function x(){if(!h)return;const m=h;t(6,b=!1),t(7,h=null),X.set(!0);try{m.type==="folder"?await Tt(m.folderId):await $t(m.name,n),await g(n)}catch(G){te.set(String(G))}finally{X.set(!1)}}function le(){t(5,w=!1),Ue.set("")}function I(m){m.key==="Enter"?R():m.key==="Escape"&&(t(4,_=!1),t(3,p=""))}function L(m){ze.call(this,l,m)}function U(m){ze.call(this,l,m)}const B=m=>C(m.folderId);function V(){p=this.value,t(3,p)}const P=()=>{t(4,_=!1),t(3,p="")},O=()=>t(4,_=!0),K=()=>Ne.set(!0),W=()=>Te.set(!0),q=m=>E(m),ee=m=>T(m),Y=m=>M(m),v=()=>te.set("");return l.$$.update=()=>{l.$$.dirty[0]&1&&g(n)},[n,f,d,p,_,w,b,h,s,r,i,a,C,j,M,N,R,E,T,y,x,le,I,L,U,B,V,P,O,K,W,q,ee,Y,v]}class Dl extends Ce{constructor(e){super(),ye(this,e,Ml,Al,de,{},null,[-1,-1])}}function El(l){let e;return{c(){e=u("div"),e.textContent="Loading...",c(e,"class","loading svelte-k68acu")},m(t,n){z(t,e,n)},i:Z,o:Z,d(t){t&&S(e)}}}function Fl(l){let e,t;return e=new Dl({}),{c(){ge(e.$$.fragment)},m(n,s){pe(e,n,s),t=!0},i(n){t||(ie(e.$$.fragment,n),t=!0)},o(n){ce(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function Nl(l){let e,t;return e=new zt({props:{fullPage:!0}}),{c(){ge(e.$$.fragment)},m(n,s){pe(e,n,s),t=!0},i(n){t||(ie(e.$$.fragment,n),t=!0)},o(n){ce(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function Pl(l){let e,t;return e=new sl({}),{c(){ge(e.$$.fragment)},m(n,s){pe(e,n,s),t=!0},i(n){t||(ie(e.$$.fragment,n),t=!0)},o(n){ce(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function Il(l){let e,t;return e=new el({}),{c(){ge(e.$$.fragment)},m(n,s){pe(e,n,s),t=!0},i(n){t||(ie(e.$$.fragment,n),t=!0)},o(n){ce(e.$$.fragment,n),t=!1},d(n){_e(e,n)}}}function Ol(l){let e,t,n,s;const r=[Il,Pl,Nl,Fl,El],i=[];function a(f,d){return f[0]==="fresh"?0:f[0]==="binding"?1:f[0]==="locked"?2:f[0]==="unlocked"?3:4}return t=a(l),n=i[t]=r[t](l),{c(){e=u("main"),n.c(),c(e,"class","svelte-k68acu")},m(f,d){z(f,e,d),i[t].m(e,null),s=!0},p(f,[d]){let p=t;t=a(f),t!==p&&(Ge(),ce(i[p],1,1,()=>{i[p]=null}),$e(),n=i[t],n||(n=i[t]=r[t](f),n.c()),ie(n,1),n.m(e,null))},i(f){s||(ie(n),s=!0)},o(f){ce(n),s=!1},d(f){f&&S(e),i[t].d()}}}function Bl(l,e,t){let n;return re(l,fe,s=>t(0,n=s)),De(async()=>{const s=await Kt();fe.set(s)}),[n]}class Ll extends Ce{constructor(e){super(),ye(this,e,Bl,Ol,de,{})}}new Ll({target:document.getElementById("app")});
